<!DOCTYPE html><html><head>
      <title>Can</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
      
      
      
      
      
      
      
      
      
      <style>
      /**
 * prism.js Github theme based on GitHub's theme.
 * @author Sam Clarke
 */
code[class*="language-"],
pre[class*="language-"] {
  color: #333;
  background: none;
  font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.4;

  -moz-tab-size: 8;
  -o-tab-size: 8;
  tab-size: 8;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

/* Code blocks */
pre[class*="language-"] {
  padding: .8em;
  overflow: auto;
  /* border: 1px solid #ddd; */
  border-radius: 3px;
  /* background: #fff; */
  background: #f5f5f5;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
  padding: .1em;
  border-radius: .3em;
  white-space: normal;
  background: #f5f5f5;
}

.token.comment,
.token.blockquote {
  color: #969896;
}

.token.cdata {
  color: #183691;
}

.token.doctype,
.token.punctuation,
.token.variable,
.token.macro.property {
  color: #333;
}

.token.operator,
.token.important,
.token.keyword,
.token.rule,
.token.builtin {
  color: #a71d5d;
}

.token.string,
.token.url,
.token.regex,
.token.attr-value {
  color: #183691;
}

.token.property,
.token.number,
.token.boolean,
.token.entity,
.token.atrule,
.token.constant,
.token.symbol,
.token.command,
.token.code {
  color: #0086b3;
}

.token.tag,
.token.selector,
.token.prolog {
  color: #63a35c;
}

.token.function,
.token.namespace,
.token.pseudo-element,
.token.class,
.token.class-name,
.token.pseudo-class,
.token.id,
.token.url-reference .token.variable,
.token.attr-name {
  color: #795da3;
}

.token.entity {
  cursor: help;
}

.token.title,
.token.title .token.punctuation {
  font-weight: bold;
  color: #1d3e81;
}

.token.list {
  color: #ed6a43;
}

.token.inserted {
  background-color: #eaffea;
  color: #55a532;
}

.token.deleted {
  background-color: #ffecec;
  color: #bd2c00;
}

.token.bold {
  font-weight: bold;
}

.token.italic {
  font-style: italic;
}


/* JSON */
.language-json .token.property {
  color: #183691;
}

.language-markup .token.tag .token.punctuation {
  color: #333;
}

/* CSS */
code.language-css,
.language-css .token.function {
  color: #0086b3;
}

/* YAML */
.language-yaml .token.atrule {
  color: #63a35c;
}

code.language-yaml {
  color: #183691;
}

/* Ruby */
.language-ruby .token.function {
  color: #333;
}

/* Markdown */
.language-markdown .token.url {
  color: #795da3;
}

/* Makefile */
.language-makefile .token.symbol {
  color: #795da3;
}

.language-makefile .token.variable {
  color: #183691;
}

.language-makefile .token.builtin {
  color: #0086b3;
}

/* Bash */
.language-bash .token.keyword {
  color: #0086b3;
}

/* highlight */
pre[data-line] {
  position: relative;
  padding: 1em 0 1em 3em;
}
pre[data-line] .line-highlight-wrapper {
  position: absolute;
  top: 0;
  left: 0;
  background-color: transparent;
  display: block;
  width: 100%;
}

pre[data-line] .line-highlight {
  position: absolute;
  left: 0;
  right: 0;
  padding: inherit 0;
  margin-top: 1em;
  background: hsla(24, 20%, 50%,.08);
  background: linear-gradient(to right, hsla(24, 20%, 50%,.1) 70%, hsla(24, 20%, 50%,0));
  pointer-events: none;
  line-height: inherit;
  white-space: pre;
}

pre[data-line] .line-highlight:before, 
pre[data-line] .line-highlight[data-end]:after {
  content: attr(data-start);
  position: absolute;
  top: .4em;
  left: .6em;
  min-width: 1em;
  padding: 0 .5em;
  background-color: hsla(24, 20%, 50%,.4);
  color: hsl(24, 20%, 95%);
  font: bold 65%/1.5 sans-serif;
  text-align: center;
  vertical-align: .3em;
  border-radius: 999px;
  text-shadow: none;
  box-shadow: 0 1px white;
}

pre[data-line] .line-highlight[data-end]:after {
  content: attr(data-end);
  top: auto;
  bottom: .4em;
}html body{font-family:"Helvetica Neue",Helvetica,"Segoe UI",Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ul,html body>ol{margin-bottom:16px}html body ul,html body ol{padding-left:2em}html body ul.no-list,html body ol.no-list{padding:0;list-style-type:none}html body ul ul,html body ul ol,html body ol ol,html body ol ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:bold;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:bold}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em !important;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::before,html body code::after{letter-spacing:-0.2em;content:"\00a0"}html body pre>code{padding:0;margin:0;font-size:.85em !important;word-break:normal;white-space:pre;background:transparent;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;font-size:.85em !important;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:before,html body pre tt:before,html body pre code:after,html body pre tt:after{content:normal}html body p,html body blockquote,html body ul,html body ol,html body dl,html body pre{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body pre,html body code{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview .pagebreak,.markdown-preview .newpage{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center !important}.markdown-preview:not([for="preview"]) .code-chunk .btn-group{display:none}.markdown-preview:not([for="preview"]) .code-chunk .status{display:none}.markdown-preview:not([for="preview"]) .code-chunk .output-div{margin-bottom:16px}.markdown-preview .md-toc{padding:0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link p,.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link div{display:inline}.markdown-preview .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0}@media screen and (min-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{font-size:14px !important;padding:1em}}@media print{html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,0.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc{padding:0 16px}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link p,html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link div{display:inline}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% -  300px);padding:2em calc(50% - 457px -  300px/2);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */

      </style>
    </head>
    <body for="html-export">
      <div class="mume markdown-preview  ">
      <h1 class="mume-header" id="can-communication">Can Communication</h1>

<ul>
<li><a href="#can-communication">Can Communication</a>
<ul>
<li><a href="#can-background-knowledge">Can Background Knowledge</a>
<ul>
<li><a href="#brief-intro"><em><strong>Brief Intro</strong></em></a>
<ul>
<li><a href="#can-%E6%80%BB%E7%BA%BF%E7%BB%93%E6%9E%84%E5%92%8C%E6%8E%A7%E5%88%B6%E5%8D%95%E5%85%83"><em><strong>CAN &#x603B;&#x7EBF;&#x7ED3;&#x6784;&#x548C;&#x63A7;&#x5236;&#x5355;&#x5143;</strong></em></a></li>
<li><a href="#can-%E6%80%BB%E7%BA%BF%E4%BF%A1%E5%8F%B7"><em><strong>CAN &#x603B;&#x7EBF;&#x4FE1;&#x53F7;</strong></em></a></li>
<li><a href="#canfd-standard-format"><em><strong>CanFD Standard Format</strong></em></a></li>
<li><a href="#contention-based-arbitration-%E5%9F%BA%E4%BA%8E%E7%AB%9E%E4%BA%89%E7%9A%84%E4%BB%B2%E8%A3%81%E6%9C%BA%E5%88%B6"><em><strong>Contention-based arbitration &#x57FA;&#x4E8E;&#x7ADE;&#x4E89;&#x7684;&#x4EF2;&#x88C1;&#x673A;&#x5236;</strong></em></a></li>
<li><a href="#sample-point"><em><strong>Sample Point</strong></em></a></li>
<li><a href="#%E5%90%8C%E6%AD%A5"><em><strong>&#x540C;&#x6B65;</strong></em></a></li>
</ul>
</li>
<li><a href="#davinci-model">DaVinci Model</a>
<ul>
<li><a href="#can">Can</a></li>
<li><a href="#canif">CanIf</a></li>
<li><a href="#pdur">PduR</a></li>
<li><a href="#com">Com</a></li>
<li><a href="#comxf">ComXf</a></li>
<li><a href="#ipdum">IpduM</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#full-can-and-basic-can">Full Can and Basic Can</a>
<ul>
<li><a href="#can-module%E4%B8%8Ecan-nodecontroller%E5%85%B3%E7%B3%BB"><em><strong>CAN Module&#x4E0E;CAN Node&#x3001;Controller&#x5173;&#x7CFB;</strong></em></a></li>
<li><a href="#controller%E4%B8%8Etransceiver%E5%85%B3%E7%B3%BB"><em><strong>Controller&#x4E0E;Transceiver&#x5173;&#x7CFB;</strong></em></a></li>
<li><a href="#controller%E4%B8%8Eram%E8%B5%84%E6%BA%90%E5%85%B3%E7%B3%BB"><em><strong>Controller&#x4E0E;RAM&#x8D44;&#x6E90;&#x5173;&#x7CFB;</strong></em></a></li>
<li><a href="#mailboxhrhhwobject"><em><strong>Mailbox&#x3001;HRH&#x3001;HWObject</strong></em></a></li>
<li><a href="#fullcan%E5%92%8Cbasiccan%E6%98%AF%E4%BB%80%E4%B9%88"><strong>FullCAN&#x548C;BasicCAN&#x662F;&#x4EC0;&#x4E48;</strong></a></li>
</ul>
</li>
<li><a href="#can-bus-off">Can Bus off</a>
<ul>
<li><a href="#busoff-background-knowledge">Busoff Background Knowledge</a>
<ul>
<li><a href="#can-%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86%E6%9C%BA%E5%88%B6"><em><strong>CAN &#x9519;&#x8BEF;&#x5904;&#x7406;&#x673A;&#x5236;</strong></em></a>
<ul>
<li><a href="#%E9%94%99%E8%AF%AF%E7%B1%BB%E5%9E%8B">&#x9519;&#x8BEF;&#x7C7B;&#x578B;</a></li>
<li><a href="#%E9%94%99%E8%AF%AF%E8%AE%A1%E6%95%B0%E5%99%A8">&#x9519;&#x8BEF;&#x8BA1;&#x6570;&#x5668;</a></li>
<li><a href="#%E9%94%99%E8%AF%AF%E7%8A%B6%E6%80%81">&#x9519;&#x8BEF;&#x72B6;&#x6001;</a></li>
<li><a href="#%E9%94%99%E8%AF%AF%E6%81%A2%E5%A4%8D">&#x9519;&#x8BEF;&#x6062;&#x590D;</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#state-machine">State Machine</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 class="mume-header" id="can-background-knowledge">Can Background Knowledge</h2>

<h3 class="mume-header" id="brief-intro"><em><strong>Brief Intro</strong></em></h3>

<h4 class="mume-header" id="can-%E6%80%BB%E7%BA%BF%E7%BB%93%E6%9E%84%E5%92%8C%E6%8E%A7%E5%88%B6%E5%8D%95%E5%85%83"><em><strong>CAN &#x603B;&#x7EBF;&#x7ED3;&#x6784;&#x548C;&#x63A7;&#x5236;&#x5355;&#x5143;</strong></em></h4>

<p><img src="./CanStruct.drawio.png" alt="Can Structure"></p>
<h4 class="mume-header" id="can-%E6%80%BB%E7%BA%BF%E4%BF%A1%E5%8F%B7"><em><strong>CAN &#x603B;&#x7EBF;&#x4FE1;&#x53F7;</strong></em></h4>

<blockquote>
<p>CAN&#x603B;&#x7EBF;&#x4E0A;&#xFF0C;&#x91C7;&#x7528;&#x5DEE;&#x5206;&#x5171;&#x8F6D;&#x4FE1;&#x53F7;&#xFF0C;&#x901A;&#x8FC7;CAN_H&#x548C;CAN_L&#x7EBF;&#x4E0A;&#x7684;&#x7535;&#x4F4D;&#x5DEE;&#x6765;&#x8868;&#x793A;CAN&#x4FE1;&#x53F7;&#xFF0C;&#x5206;&#x4E3A;&#x663E;&#x6027;&#x7535;&#x5E73;(dominant)&#x548C;&#x9690;&#x6027;&#x7535;&#x5E73;(recessive)&#x4E24;&#x79CD;&#x7C7B;&#x578B;&#x3002;&#x5176;&#x4E2D;&#x663E;&#x6027;&#x7535;&#x5E73;&#x89C4;&#x5B9A;&#x4E3A;&#x903B;&#x8F91;0&#xFF0C;&#x9690;&#x6027;&#x7535;&#x5E73;&#x5219;&#x4E3A;&#x903B;&#x8F91;1&#x3002;&#x5176;&#x5177;&#x4F53;&#x5B9A;&#x4E49;&#x53EF;&#x901A;&#x8FC7;&#x4E0B;&#x56FE;&#x6765;&#x7406;&#x89E3;&#x3002;<br>
<img src="./Can_Characteristic.png" alt="Can Structure"></p>
</blockquote>
<h4 class="mume-header" id="canfd-standard-format"><em><strong>CanFD Standard Format</strong></em></h4>

<p><img src="./CanFrameFormat.drawio.png" alt="Can Frame Format"></p>
<ul>
<li>
<p><em><strong>SOF</strong></em>: &#x8282;&#x70B9;&#x53D1;&#x9001;&#x5E27;&#x65F6;, &#x53D1;&#x9001;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x90E8;&#x5206;&#x4E3A;&#x5E27;&#x5F00;&#x59CB;&#x7684;&#x90E8;&#x5206;&#xFF0C;&#x8868;&#x73B0;&#x4E3A;&#x663E;&#x6027;&#x72B6;&#x6001;&#x3002;&#x8FD9;&#x4E00;&#x90E8;&#x5206;&#x88AB;&#x79F0;&#x4E3A; SOF&#xFF08;Start Of Frame&#xFF09;&#x3002;&#x5728;SOF&#xFF0C;CAN FD&#x4E0E;CAN&#x76F8;&#x540C;&#xFF0C;&#x4EC5;&#x6709;1bit&#x7684;&#x201C;&#x663E;&#x6027;&#x201D;&#x4F4D;&#x3002;&#x53EA;&#x6709;&#x603B;&#x7EBF;&#x7A7A;&#x95F2;&#x65F6;&#x624D;&#x5141;&#x8BB8;&#x8282;&#x70B9;&#x53D1;&#x9001;&#x4FE1;&#x53F7;&#xFF0C;&#x53D1;&#x9001;&#x65F6;&#xFF0C;SOF&#x5C06;&#x603B;&#x7EBF;&#x4ECE;&#x9690;&#x6027;&#xFF08;1&#xFF09;&#x6539;&#x53D8;&#x4E3A;&#x663E;&#x6027;&#xFF08;0&#xFF09;&#xFF0C;&#x6240;&#x6709;&#x8282;&#x70B9;&#x5FC5;&#x987B;&#x540C;&#x6B65;&#x4E8E;&#x9996;&#x5148;&#x5F00;&#x59CB;&#x53D1;&#x9001;&#x62A5;&#x6587;&#x7684;&#x8282;&#x70B9;&#x7684;&#x5E27;&#x8D77;&#x59CB;&#x524D;&#x6CBF;&#x3002;</p>
</li>
<li>
<p><em><strong>Arbitration Field</strong></em>: Identifier + RRS</p>
<ul>
<li>Identifier&#x8BC6;&#x522B;&#x7B26;&#x53EF;&#x7528;&#x4E8E;&#x533A;&#x522B;&#x6D88;&#x606F;&#x7684;&#x540C;&#x65F6;&#x53C8;&#x53EF;&#x4EE5;&#x8868;&#x793A;&#x6D88;&#x606F;&#x7684;&#x4F18;&#x5148;&#x7EA7;&#x3002;</li>
<li>RRS&#x4F4D;&#xFF08;Remote Request Substitution&#xFF09;&#x8FDC;&#x7A0B;&#x8BF7;&#x6C42;&#x66FF;&#x6362;&#x4F4D;&#xFF1A;&#x5373;&#x4F20;&#x7EDF;CAN&#x4E2D;&#x7684;RTR&#x4F4D;&#x3002;CAN FD&#x53D6;&#x6D88;&#x4E86;&#x5BF9;&#x8FDC;&#x7A0B;&#x5E27;&#x7684;&#x652F;&#x6301;&#xFF0C;&#x7528;RRS&#x4F4D;&#x66FF;&#x6362;&#x4E86;RTR&#x4F4D;&#xFF0C;&#x4E3A;&#x5E38;&#x663E;&#x6027;&#x3002;</li>
</ul>
</li>
<li>
<p><em><strong>Control Field</strong></em>&#xFF1A;CAN FD&#x7684;&#x63A7;&#x5236;&#x573A;&#x7531;IDE&#x4F4D;&#x3001;FDF&#x4F4D;&#x3001;RES&#x4F4D;&#x3001;BRS&#x4F4D;&#x548C;ESI&#x4F4D;&#x6784;&#x6210;&#x3002;</p>
<ul>
<li>IDE&#x4F4D;&#x8868;&#x793A;&#x6269;&#x5C55;&#x5E27;&#x6807;&#x5FD7;&#xFF0C;res&#x4F4D;&#x4E3A;&#x9884;&#x7559;&#x4F4D;&#x3002;</li>
<li>FDF&#x4F4D;&#xFF08;FD Format Indicator&#xFF09;&#xFF1A;<br>
FDF&#x4F4D;&#x5728;CAN&#x7684;&#x6570;&#x636E;&#x5E27;&#x4E2D;&#x4F4D;&#x663E;&#x6027;&#xFF08;0&#xFF09;&#xFF0C;&#x5728;CAN FD&#x7684;&#x5E27;&#x4E2D;&#x5E38;&#x4E3A;&#x9690;&#x5F62;&#xFF08;1&#xFF09;&#xFF0C;&#x8868;&#x793A;CAN FD&#x62A5;&#x6587;&#xFF1B;</li>
<li>BRS&#x4F4D;&#xFF08;Bit Rate Switch&#xFF09;&#xFF1A;&#x4F4D;&#x901F;&#x7387;&#x8F6C;&#x6362;&#x5F00;&#x5173;<br>
&#x5F53;BRS&#x4E3A;&#x9690;&#x5F62;&#x4F4D;&#xFF08;1&#xFF09;&#x65F6;&#xFF0C;&#x8868;&#x793A;&#x8F6C;&#x6362;&#x53EF;&#x53D8;&#x901F;&#x7387;&#xFF0C;&#x5373;&#x53D1;&#x9001;&#x8282;&#x70B9;&#x5728;BRS&#x4F4D;&#x7684;&#x91C7;&#x6837;&#x70B9;&#xFF0C;&#x5C06;&#x4F1A;&#x5207;&#x6362;&#x5230;&#x9AD8;&#x901F;&#x4F20;&#x8F93;&#x7684;&#x65F6;&#x949F;&#x6A21;&#x5F0F;&#xFF0C;&#x5176;&#x4ED6;&#x63A5;&#x6536;&#x8282;&#x70B9;&#x4E5F;&#x5FC5;&#x987B;&#x8F6C;&#x6362;&#x4F4D;&#x65F6;&#x949F;&#x6A21;&#x5F0F;&#x3002;&#x5728;CRC&#x754C;&#x5B9A;&#x7B26;&#x7684;&#x91C7;&#x6837;&#x70B9;&#xFF0C;&#x6240;&#x6709;&#x8282;&#x70B9;&#x7684;&#x6CE2;&#x7279;&#x7387;&#x5C06;&#x4F1A;&#x518D;&#x5207;&#x6362;&#x56DE;&#x4EF2;&#x88C1;&#x573A;&#x7684;&#x6CE2;&#x7279;&#x7387;&#x3002;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x6240;&#x6709;CAN FD&#x8282;&#x70B9;&#x90FD;&#x6709;&#x4E24;&#x79CD;&#x7C7B;&#x578B;&#x7684;&#x6CE2;&#x7279;&#x7387;&#x3002;</li>
<li>ESI&#xFF08;Error State Indicator&#xFF09;&#xFF1A;&#x9519;&#x8BEF;&#x72B6;&#x6001;&#x6307;&#x793A;<br>
ESI&#x662F;&#x6307;&#x793A;&#x53D1;&#x9001;&#x8282;&#x70B9;&#x7684;&#x9519;&#x8BEF;&#x72B6;&#x6001;&#x7684;&#x6807;&#x5FD7;&#xFF0C;&#x5F53;&#x53D1;&#x9001;&#x8282;&#x70B9;&#x7684;&#x9519;&#x8BEF;&#x72B6;&#x6001;&#x662F;&#x6FC0;&#x6D3B;&#x65F6;&#xFF0C;&#x53D1;&#x9001;&#x9690;&#x6027;&#x4F4D;&#xFF08;1&#xFF09;&#xFF0C;&#x5982;&#x679C;&#x9519;&#x8BEF;&#x72B6;&#x6001;&#x672A;&#x6FC0;&#x6D3B;&#x65F6;&#xFF0C;&#x53D1;&#x9001;&#x663E;&#x6027;&#x4F4D;&#xFF08;0&#xFF09;&#x3002;&#x901A;&#x8FC7;ESI&#x4F4D;&#xFF0C;&#x6240;&#x6709;&#x8282;&#x70B9;&#x90FD;&#x53EF;&#x4EE5;&#x786E;&#x8BA4;&#x5F53;&#x524D;&#x7684;&#x4F20;&#x8F93;&#x8282;&#x70B9;&#x7684;&#x9519;&#x8BEF;&#x72B6;&#x6001;&#x3002;</li>
<li>DLC&#xFF1A;Data Length Code</li>
</ul>
</li>
<li>
<p><em><strong>Data Field</strong></em>: &#x6570;&#x636E;&#x573A;&#x7531;&#x6570;&#x636E;&#x5E27;&#x91CC;&#x7684;&#x53D1;&#x9001;&#x6570;&#x636E;&#x7EC4;&#x6210;&#xFF0C;&#x5728;&#x6570;&#x636E;&#x573A;&#x4E2D;&#x8BBE;&#x7F6E;&#x53D1;&#x9001;&#x6570;&#x636E;&#x3002;&#x9996;&#x5148;&#x53D1;&#x9001;&#x6700;&#x9AD8;&#x6709;&#x6548;&#x4F4D;(MSB)&#x3002;</p>
</li>
<li>
<p><em><strong>Check Field</strong></em>: CRC + CRC Delimiter</p>
<ul>
<li>CRC: &#x6CE8;&#xFF1A;<strong>CAN FD&#x7684;CRC&#x8BA1;&#x7B97;&#x4E0D;&#x4EC5;&#x8981;&#x5305;&#x62EC;&#x6570;&#x636E;&#x6BB5;&#x7684;&#x4F4D;&#xFF0C;&#x8FD8;&#x5305;&#x62EC;&#x6765;&#x81EA;SOF&#x7684;Stuff Count&#x548C;&#x586B;&#x5145;&#x4F4D;&#x3002;</strong></li>
<li>CRC Delimiter: CRC&#x754C;&#x5B9A;&#x7B26;&#x662F;&#x8868;&#x793A;CRC&#x6821;&#x9A8C;&#x573A;&#x7684;&#x7ED3;&#x675F;&#x3002;</li>
</ul>
</li>
<li>
<p><em><strong>ACK Field</strong></em>&#xFF1A;CAN FD&#x7684;ACK&#x5E94;&#x7B54;&#x573A;&#x5305;&#x62EC;&#x5E94;&#x7B54;&#x95F4;&#x9699;&#x548C;&#x5E94;&#x7B54;&#x754C;&#x5B9A;&#x7B26;&#xFF0C;&#x5176;&#x6784;&#x6210;&#x548C;CAN&#x662F;&#x76F8;&#x540C;&#x7684;&#x3002;&#x4E0D;&#x540C;&#x7684;&#x662F;&#xFF0C;&#x5728;CAN&#x4E2D;&#xFF0C;&#x5E94;&#x7B54;&#x573A;&#x7684;&#x957F;&#x5EA6;&#x662F;1&#x4F4D;&#xFF0C;&#x4F46;&#x5728;CAN FD&#xFF0C;&#x63A5;&#x6536;&#x8282;&#x70B9;&#x5229;&#x7528;2&#x4F4D;&#x65F6;&#x95F4;&#x5C06;&#x5176;&#x8BC6;&#x522B;&#x4E3A;&#x6709;&#x6548;&#x5E94;&#x7B54;&#x3002;<br>
&#x7531;&#x4ECE;&#x9AD8;&#x901F;&#x7684;&#x6570;&#x636E;&#x573A;&#x5230;&#x6162;&#x901F;&#x7684;&#x4EF2;&#x88C1;&#x573A;&#x65F6;&#xFF0C;&#x65F6;&#x949F;&#x5207;&#x6362;&#x4F1A;&#x5F15;&#x8D77;&#x6536;&#x53D1;&#x5668;&#x76F8;&#x79FB;&#x548C;&#x603B;&#x7EBF;&#x4F20;&#x64AD;&#x5EF6;&#x8FDF;&#x3002;&#x4E3A;&#x4E86;&#x8865;&#x507F;&#x5176;&#x76F8;&#x79FB;&#x548C;&#x5EF6;&#x8FDF;&#xFF0C;&#x76F8;&#x6BD4;&#x4F20;&#x7EDF;&#x7684;CAN&#xFF0C;&#x5728;CAN FD&#x4E2D;&#x591A;&#x52A0;&#x4E86;&#x8FD9;&#x989D;&#x5916;&#x7684;1&#x4F4D;&#x65F6;&#x95F4;&#x3002;&#x5728;ACK&#x4E4B;&#x540E;&#xFF0C;&#x53D1;&#x9001;ACK&#x754C;&#x5B9A;&#x7B26;&#x3002;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x8868;&#x793A;ACK&#x7ED3;&#x675F;&#x7684;&#x5206;&#x9694;&#x7B26;&#xFF0C;&#x4E3A;&#x662F;1&#x4F4D;&#x9690;&#x6027;&#x4F4D;&#x3002;</p>
</li>
<li>
<p><em><strong>EOF</strong></em>: &#x6BCF;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5E27;&#x5747;&#x7531;&#x4E00;&#x6807;&#x5FD7;&#x5E8F;&#x5217;&#x754C;&#x5B9A;&#xFF0C;&#x8FD9;&#x4E2A;&#x6807;&#x5FD7;&#x5E8F;&#x5217;&#x7531;7&#x4E2A;&#x201C;&#x9690;&#x6027;&#x201D;&#x4F4D;&#x7EC4;&#x6210;&#x3002;CAN FD&#x7684;&#x5E27;&#x7ED3;&#x5C3E;&#x4E0E;CAN&#x76F8;&#x540C;&#x3002;</p>
</li>
</ul>
<h4 class="mume-header" id="contention-based-arbitration-%E5%9F%BA%E4%BA%8E%E7%AB%9E%E4%BA%89%E7%9A%84%E4%BB%B2%E8%A3%81%E6%9C%BA%E5%88%B6"><em><strong>Contention-based arbitration &#x57FA;&#x4E8E;&#x7ADE;&#x4E89;&#x7684;&#x4EF2;&#x88C1;&#x673A;&#x5236;</strong></em></h4>

<blockquote>
<ul>
<li>&#x7531;&#x786C;&#x4EF6;&#x7279;&#x6027;&#x51B3;&#x5B9A;&#xFF0C;&#x88AB;&#x79F0;&#x4E3A;&#x7EBF;&#x4E0E;&#x5F97;&#x4EF2;&#x88C1;&#x673A;&#x5236;&#x3002;ID&#x8D8A;&#x5C0F;&#x7684;&#x4FE1;&#x53F7;&#x4F18;&#x5148;&#x7EA7;&#x8D8A;&#x9AD8;&#x3002;<br>
<img src="./Arbitration.drawio.png" alt="Contention-bases arbitration"></li>
</ul>
</blockquote>
<ul>
<li>&#x7EBF;&#x4E0E;&#x673A;&#x5236;</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">Node A</th>
<th style="text-align:center">Node B</th>
<th style="text-align:center">Bus Level</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
</tr>
</tbody>
</table>
<ul>
<li>&#x56DE;&#x8BFB;&#x673A;&#x5236;</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">&#x53D1;&#x9001;&#x7AEF;</th>
<th style="text-align:center">&#x603B;&#x7EBF;</th>
<th style="text-align:center">&#x89E3;&#x91CA;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">&#x7EE7;&#x7EED;&#x53D1;&#x9001;</td>
</tr>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">&#x9519;&#x8BEF;</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">&#x505C;&#x6B62;&#x53D1;&#x9001;</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">&#x7EE7;&#x7EED;&#x53D1;&#x9001;</td>
</tr>
</tbody>
</table>
<h4 class="mume-header" id="sample-point"><em><strong>Sample Point</strong></em></h4>

<p><img src="./SamplePoint.png" alt="Sample Point"></p>
<ol>
<li>
<p>&#x4F4D;&#x65F6;&#x5E8F;<br>
&#x9996;&#x5148;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x4E86;&#x89E3;Tq&#x7684;&#x6982;&#x5FF5;&#xFF0C;Tq&#x662F;can&#x63A7;&#x5236;&#x5668;&#x7684;&#x6700;&#x4E0B;&#x65F6;&#x95F4;&#x5468;&#x671F;&#x79F0;&#x4F5C;&#x65F6;&#x95F4;&#x4EFD;&#x989D;&#xFF08;Time quantum&#xFF0C;&#x7B80;&#x79F0;Tq&#xFF09;,&#x5B83;&#x662F;&#x901A;&#x8FC7;&#x82AF;&#x7247;&#x6676;&#x632F;&#x5468;&#x671F;&#x5206;&#x9891;&#x800C;&#x6765;&#x3002;&#x4F20;&#x8F93;&#x7684;&#x4E2A;bit&#x4F4D;&#x7531;&#x82E5;&#x5E72;&#x4E2A;Tq&#x7EC4;&#x6210;&#x3002;&#x4E00;&#x4E2A;&#x4F4D;&#x53EF;&#x5206;&#x4E3A;4&#x6BB5;&#xFF0C;&#x5206;&#x522B;&#x4E3A;&#xFF1A;</p>
<ul>
<li>&#x540C;&#x6B65;&#x6BB5;(SS&#xFF1A;Synchronization Segment)</li>
<li>&#x4F20;&#x64AD;&#x65F6;&#x95F4;&#x6BB5;(PTS&#xFF1A;Propagation Time Segment)</li>
<li>&#x76F8;&#x4F4D;&#x7F13;&#x51B2;&#x6BB5;1(PBS1&#xFF1A;Phase Buffer Segment 1)</li>
<li>&#x76F8;&#x4F4D;&#x7F13;&#x51B2;&#x6BB5;2(PBS2&#xFF1A;Phase Buffer Segment 2)</li>
</ul>
</li>
<li>
<p>&#x91C7;&#x6837;&#x70B9;<br>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>S</mi><mi>a</mi><mi>m</mi><mi>p</mi><mi>l</mi><mi>e</mi><mi>P</mi><mi>o</mi><mi>i</mi><mi>n</mi><mi>t</mi><mo>=</mo><mfrac><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>+</mo><mi>T</mi><mi>S</mi><mi>E</mi><mi>G</mi><mn>1</mn><mo stretchy="false">)</mo></mrow><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>+</mo><mi>T</mi><mi>S</mi><mi>E</mi><mi>G</mi><mn>1</mn><mo>+</mo><mi>T</mi><mi>S</mi><mi>E</mi><mi>G</mi><mn>2</mn><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">Sample Point = \frac{(1+TSEG1)}{(1+TSEG1+TSEG2)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord mathnormal">am</span><span class="mord mathnormal" style="margin-right:0.01968em;">pl</span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal">o</span><span class="mord mathnormal">in</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">TSEG</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">TSEG</span><span class="mord">2</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">TSEG</span><span class="mord">1</span><span class="mclose">)</span></span></span></span><span class="vlist-s">&#x200B;</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
</li>
<li>
<p>&#x5EF6;&#x8FDF;(TDC)<br>
SSP&#xFF1A;&#x4E8C;&#x6B21;&#x91C7;&#x6837;&#x70B9;&#x3002;&#x7528;&#x4E8E;&#x4F30;&#x7B97;&#x6536;&#x53D1;&#x5EF6;&#x8FDF;&#x3002;<em>Ref. AURIXTC3XX_um_part2_v1.2.0</em></p>
<blockquote>
<p>During the data phase of a CAN FD transmission only one node is transmitting, all others are receivers. The length of the bus line has no impact. When transmitting via pin TXD the protocol controller receives the transmitted data from its local CAN transceiver via pin RXD. The received data is delayed by the CAN transmitter delay. In case this delay is greater than TSEG1 (time segment before sample point), a bit error is detected. In order to enable a data phase bit time that is even shorter than the transmitter delay, the delay compensation is introduced. Without transmitter delay compensation, the bit rate in the data phase of a CAN FD frame is limited by the transmitter dela.</p>
<p>The received bit is compared against the transmitted bit at the Secondary Sample Point. The Secondary Sample Point position is defined as the sum of the measured delay from the M_CAN&#x2019;s transmit output TX through the transceiver to the receive input RX plus <em><strong>the transmitter delay compensation offset as configured by TDCRi (i=0- 3).TDCO</strong></em>. The transmitter delay compensation offset is used to adjust the position of the SSP inside the received bit (e.g. half of the bit time in the data phase). The position of the secondary sample point is rounded down to the next integer number of mtq.PSRi.TDCV shows the actual transmitter delay compensation value. PSRi (i=0- 3).TDCV is cleared when CCCRi.INIT is set and is updated at each transmission of an FD frame while DBTPi (i=0- 3).TDC is set.</p>
</blockquote>
</li>
</ol>
<p><img src="./SSP.png" alt="Second Sample Point"></p>
<h4 class="mume-header" id="%E5%90%8C%E6%AD%A5"><em><strong>&#x540C;&#x6B65;</strong></em></h4>

<p>CAN&#x540C;&#x6B65;&#x7684;&#x7B56;&#x7565;CAN&#x540C;&#x6B65;&#x662F;&#x4EE5;&#x4F4D;&#x4E3A;&#x5355;&#x4F4D;&#xFF0C;&#x6BCF;&#x63A5;&#x6536;&#x4E00;&#x4E2A;&#x4E0B;&#x964D;&#x6CBF;&#xFF0C;&#x5219;&#x8FDB;&#x884C;&#x4E00;&#x6B21;&#x540C;&#x6B65;&#x3002;&#x53D1;&#x9001;&#x5355;&#x5143;&#x4EE5;&#x7EA6;&#x5B9A;&#x597D;&#x7684;&#x4F4D;&#x65F6;&#x5E8F;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x53D1;&#x9001;&#x3002;&#x63A5;&#x6536;&#x5355;&#x5143;&#x6839;&#x636E;&#x603B;&#x7EBF;&#x4E0A;&#x63A5;&#x6536;&#x5230;&#x7684;&#x4E0B;&#x964D;&#x6CBF;&#x8FDB;&#x884C;&#x4F4D;&#x65F6;&#x5E8F;&#x540C;&#x6B65;&#x3002;<br>
&#x4F46;&#x662F;&#xFF0C;&#x53D1;&#x9001;&#x8282;&#x70B9;&#x548C;&#x63A5;&#x6536;&#x8282;&#x70B9;&#x4F5C;&#x4E3A;&#x4E92;&#x76F8;&#x72EC;&#x7ACB;&#x7684;&#x786C;&#x4EF6;&#x4E2A;&#x4F53;&#xFF0C;&#x65F6;&#x949F;&#x9891;&#x7387;&#x8BEF;&#x5DEE;&#x3001;&#x4F20;&#x8F93;&#x8DEF;&#x5F84;&#x4E0A;&#x7684;&#xFF08;&#x7535;&#x7F06;&#x3001;&#x9A71;&#x52A8;&#x5668;&#x7B49;&#xFF09;&#x76F8;&#x4F4D;&#x5EF6;&#x8FDF;&#x7B49;&#x90FD;&#x4F1A;&#x5F15;&#x8D77;&#x65F6;&#x5E8F;&#x504F;&#x5DEE;&#x3002;&#x56E0;&#x6B64;&#x63A5;&#x6536;&#x5355;&#x5143;&#x9700;&#x901A;&#x8FC7;&#x786C;&#x540C;&#x6B65;&#x6216;&#x8005;&#x91CD;&#x540C;&#x6B65;&#x7684;&#x65B9;&#x6CD5;&#x8FDB;&#x884C;&#x4F4D;&#x65F6;&#x5E8F;&#x8C03;&#x6574;&#x3002;</p>
<p>1&#x3001;&#x786C;&#x540C;&#x6B65;&#xFF1A;&#x63A5;&#x6536;&#x5355;&#x5143;&#x5728;&#x603B;&#x7EBF;&#x7A7A;&#x95F2;&#x72B6;&#x6001;&#x68C0;&#x6D4B;&#x51FA;&#x7B2C;&#x4E00;&#x4E2A;&#x4E0B;&#x964D;&#x6CBF;&#x65F6;&#xFF08;&#x5BF9;&#x5E94;&#x62A5;&#x6587;&#x7684;SOF&#x4E0B;&#x964D;&#x6CBF;&#xFF09;&#x8FDB;&#x884C;&#x7684;&#x540C;&#x6B65;&#x8C03;&#x6574;&#x3002;&#x5728;&#x68C0;&#x6D4B;&#x5230;SOF&#x7684;&#x4E0B;&#x964D;&#x6CBF;&#x65F6;&#xFF0C;&#x76F4;&#x63A5;&#x5C06;&#x6B64;&#x4E0B;&#x964D;&#x6CBF;&#x7684;&#x4F4D;&#x7F6E;&#x8BA4;&#x4E3A;&#x662F;SS&#x6BB5;&#xFF0C;&#x7136;&#x540E;&#x6309;&#x7167;&#x4F4D;&#x65F6;&#x5E8F;&#x5BF9;&#x4FE1;&#x53F7;&#x8FDB;&#x884C;&#x91C7;&#x6837;&#xFF0C;&#x8FBE;&#x5230;&#x540C;&#x6B65;&#x7684;&#x6548;&#x679C;&#x3002;</p>
<p>2&#x3001;&#x91CD;&#x540C;&#x6B65;&#xFF1A;&#x786C;&#x540C;&#x6B65;&#x53EA;&#x662F;&#x5728;&#x603B;&#x7EBF;&#x7A7A;&#x95F2;&#x65F6;&#x68C0;&#x6D4B;&#x51FA;&#x4E0B;&#x964D;&#x6CBF;&#xFF08;&#x5E27;&#x8D77;&#x59CB;&#xFF09;&#x65F6;&#x8FDB;&#x884C;&#xFF0C;&#x540E;&#x7EED;CAN&#x62A5;&#x6587;&#x6570;&#x636E;&#x4F4D;&#x7684;&#x540C;&#x6B65;&#x5219;&#x9700;&#x8981;&#x901A;&#x8FC7;&#x8C03;&#x6574;&#x4F4D;&#x65F6;&#x5E8F;&#x6765;&#x8FDB;&#x884C;&#x91CD;&#x540C;&#x6B65;&#x3002;&#x5728;&#x63A5;&#x6536;&#x8FC7;&#x7A0B;&#x4E2D;&#x68C0;&#x6D4B;&#x51FA;&#x603B;&#x7EBF;&#x4E0A;&#x7684;&#x4E0B;&#x964D;&#x6CBF;&#x6765;&#x4E34;&#x65F6;&#xFF0C;&#x6839;&#x636E;SJW&#x503C;&#x901A;&#x8FC7;&#x52A0;&#x957F;PBS1&#x6BB5;&#xFF0C;&#x6216;&#x7F29;&#x77ED;PBS2&#x6BB5;&#xFF0C;&#x4EE5;&#x8C03;&#x6574;&#x540C;&#x6B65;&#x3002;&#x4F46;&#x5982;&#x679C;&#x53D1;&#x751F;&#x4E86;&#x8D85;&#x51FA;SJW&#x503C;&#x7684;&#x8BEF;&#x5DEE;&#x65F6;&#xFF0C;&#x6700;&#x5927;&#x8C03;&#x6574;&#x91CF;&#x4E0D;&#x80FD;&#x8D85;&#x8FC7;SJW&#x503C;&#x3002;</p>
<h3 class="mume-header" id="davinci-model">DaVinci Model</h3>

<h4 class="mume-header" id="can">Can</h4>

<p>Can&#x6A21;&#x5757;&#x4E2D;&#x4E00;&#x4E9B;&#x914D;&#x7F6E;&#x9879;&#x4ECB;&#x7ECD;&#xFF1A;</p>
<table>
<thead>
<tr>
<th style="text-align:left">Item</th>
<th style="text-align:left">Description</th>
<th style="text-align:left">Reference</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Basis Address Enum</td>
<td style="text-align:left">&#x5F53;&#x524D;&#x8282;&#x70B9;&#x4F7F;&#x7528;&#x7684;&#x662F;&#x54EA;&#x4E00;&#x4E2A;Can Controller.</td>
<td style="text-align:left">TechnicalReference_CAN_Tricore_MCAN.pdf Chapter 6.2 &amp;&amp; AURIXT3XX_um_part2_V1.2.0 Page 1940</td>
</tr>
<tr>
<td style="text-align:left">Common CAN</td>
<td style="text-align:left">&#x5141;&#x8BB8;&#x4F7F;&#x7528;&#x4E24;&#x4E2A;&#x7269;&#x7406;Can&#x901A;&#x9053;&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;CAN&#x8282;&#x70B9;&#xFF0C;&#x6269;&#x5C55;&#x4E86;Buffer&#x3002;&#x524D;&#x63D0;&#x662F;&#x786C;&#x4EF6;&#x652F;&#x6301;&#x3002;</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">TTCAN</td>
<td style="text-align:left">Can&#x7684;&#x9AD8;&#x5C42;&#x534F;&#x8BAE;&#xFF0C;&#x5B9E;&#x65F6;&#x6027;&#x66F4;&#x9AD8;&#xFF0C;TC397&#x652F;&#x6301;&#xFF0C;TC357&#x4E0D;&#x652F;&#x6301;</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">Enable optimizations for hardware buffer lengths</td>
<td style="text-align:left">FullCAN&#x5BF9;&#x8C61;&#x7684;&#x786C;&#x4EF6;&#x7F13;&#x51B2;&#x533A;&#x88AB;&#x9650;&#x5236;&#x4E3A;&#x5B9E;&#x9645;&#x8981;&#x63A5;&#x6536;&#x7684;&#x6D88;&#x606F;&#x7684;&#x5E27;&#x957F;&#x5EA6;&#x3002;&#x5982;&#x679C;&#x63A5;&#x6536;&#x5230;&#x5E27;&#x957F;&#x8F83;&#x5927;&#x7684;CAN-FD&#x6D88;&#x606F;&#xFF0C;&#x9A71;&#x52A8;&#x7A0B;&#x5E8F;&#x53EF;&#x80FD;&#x4F1A;&#x4E22;&#x5F03;&#x8FD9;&#x4E9B;&#x6D88;&#x606F;&#x3002;&#x5982;&#x679C;&#x7981;&#x7528;&#x6B64;&#x529F;&#x80FD;&#xFF0C;&#x5219;&#x5C06;&#x786C;&#x4EF6;&#x7F13;&#x51B2;&#x533A;&#x914D;&#x7F6E;&#x4E3A;&#x80FD;&#x591F;&#x63A5;&#x6536;&#x6240;&#x6709;&#x6D88;&#x606F;&#x7684;&#x6700;&#x5927;&#x5927;&#x5C0F;&#x3002;</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">Interrupt Category</td>
<td style="text-align:left">1&#x548C;2&#x90FD;&#x662F;&#x505A;&#x4E3A;&#x4E2D;&#x65AD;&#x51FD;&#x6570;&#x76F4;&#x63A5;&#x7531;OS&#x7BA1;&#x7406;&#x3002;2&#x53EA;&#x652F;&#x6301;AutoSar/OSEK OS</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">Interrupt Lock</td>
<td style="text-align:left">&#x4E2D;&#x65AD;&#x7531;&#x54EA;&#x4E2A;&#x6A21;&#x5757;&#x7BA1;&#x7406;&#x3002;</td>
<td style="text-align:left">TechnicalReference_CAN_Tricore_MCAN.pdf Chapter 6.2</td>
</tr>
<tr>
<td style="text-align:left">Rx Queue</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">Safe Bsw Checks</td>
<td style="text-align:left">This attribute has to be enabled for safety projects where this component is mapped to an ASIL partition.</td>
<td style="text-align:left"></td>
</tr>
</tbody>
</table>
<h4 class="mume-header" id="canif">CanIf</h4>

<ul>
<li>Tx Buffer Handling Type: &#x4E00;&#x822C;&#x9009;&#x62E9;PRIO_BY_CANID&#x5373;&#x53EF;, &#x4F46;&#x6709;&#x4E9B;&#x60C5;&#x51B5;&#x4F8B;&#x5916;&#xFF0C;&#x6BD4;&#x5982;&#x6709;&#x590D;&#x7528;&#x4FE1;&#x53F7;&#x65F6;&#x3002;&#x56E0;&#x4E3A;PRIO_BY_CANID&#x7684;Buffer&#x4F7F;&#x7528;&#x7684;&#x662F;O(1)&#x7684;&#x67E5;&#x8868;&#x6CD5;&#x3002;</li>
</ul>
<h4 class="mume-header" id="pdur">PduR</h4>

<ul>
<li>&#x6574;&#x4E2A;&#x6A21;&#x5757;&#x662F;&#x4E00;&#x5F20;&#x8DEF;&#x7531;&#x5668;&#x8868;&#xFF0C;&#x63CF;&#x8FF0;&#x4E86;&#x6BCF;&#x4E2A;Ipdu&#x4ECE;&#x90A3;&#x91CC;&#x6765;&#x5230;&#x90A3;&#x91CC;&#x53BB;&#x7684;&#x4FE1;&#x606F;&#x3002;&#x4E00;&#x822C;&#x7531;DaVinci&#x81EA;&#x884C;&#x751F;&#x6210;&#x5373;&#x53EF;&#x3002;</li>
</ul>
<h4 class="mume-header" id="com">Com</h4>

<ul>
<li>&#x8D1F;&#x8D23;&#x6536;&#x53D1;Ipdu&#x7684;&#x6A21;&#x5757;&#x3002;</li>
</ul>
<h4 class="mume-header" id="comxf">ComXf</h4>

<ul>
<li>&#x5F52;&#x4E00;&#x5316;Signal Group&#xFF0C;&#x65B9;&#x4FBF;E2E&#x7684;&#x8BA1;&#x7B97;</li>
</ul>
<pre data-role="codeBlock" data-info="C" class="language-c"><span class="token keyword keyword-typedef">typedef</span> <span class="token keyword keyword-struct">struct</span> <span class="token class-name">DataTypeA</span>
<span class="token punctuation">{</span>
    <span class="token class-name">u8_t</span> Data_1<span class="token punctuation">;</span>
    <span class="token class-name">u8_t</span> Data_2<span class="token punctuation">;</span>
    <span class="token class-name">u8_t</span> CRC<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword keyword-typedef">typedef</span> <span class="token keyword keyword-struct">struct</span> <span class="token class-name">DataTypeB</span>
<span class="token punctuation">{</span>
    <span class="token class-name">u8_t</span> Data_2<span class="token punctuation">;</span>
    <span class="token class-name">u8_t</span> Data_1<span class="token punctuation">;</span>
    <span class="token class-name">u8_t</span> CRC<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</pre><p>&#x5982;&#x679C;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x4EE5;&#x4E0A;&#x4E24;&#x4E2A;&#x7ED3;&#x6784;&#x4F53;&#x58F0;&#x660E;&#x7684;&#x53D8;&#x91CF;&#xFF0C;&#x4ED6;&#x4EEC;&#x8BA1;&#x7B97;&#x51FA;&#x7684;CRC&#x662F;&#x4E0D;&#x4E00;&#x6837;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x9700;&#x8981;&#x7531;ComXf&#x7EDF;&#x4E00;&#x8D77;&#x6765;&#x3002;</p>
<h4 class="mume-header" id="ipdum">IpduM</h4>

<ol>
<li>
<p><em>DBC&#x914D;&#x7F6E;</em></p>
<p>&#x5C06;&#x9009;&#x62E9;&#x4FE1;&#x53F7;&#x914D;&#x7F6E;&#x4E3A;Multiplexor Signal, &#x52A8;&#x6001;&#x90E8;&#x5206;&#x914D;&#x7F6E;&#x4E3A;Multiplexd Signal&#xFF0C;&#x9759;&#x6001;&#x90E8;&#x5206;&#x914D;&#x7F6E;&#x4E3A;Signal&#x3002;</p>
<p><em><strong>Multiplexor Signal&#x5FC5;&#x987B;&#x662F;Enum&#x7C7B;&#x578B;&#xFF0C;&#x5E76;&#x4E14;&#x9700;&#x8981;&#x72EC;&#x7ACB;&#x4E8E;Signal Group&#x4E4B;&#x5916;&#x3002;</strong></em></p>
<p><img src="./Can_MultiplexSignal.png" alt="image-20230309131821100"></p>
<p>Multiplexed Signal&#x8FD8;&#x9700;&#x8981;&#x914D;&#x7F6E;Multiplex Value, &#x5373;&#x5BF9;&#x5E94;Multiplexor Signal&#x7684;&#x54EA;&#x4E2A;&#x503C;&#x3002;&#x6240;&#x6709;&#x914D;&#x7F6E;&#x4E86;&#x76F8;&#x540C;Multiplex Value&#x7684;Signals&#x4F1A;&#x88AB;&#x7EC4;&#x5408;&#x6210;&#x4E00;&#x4E2A;Ipdu&#x3002;</p>
<p><img src="./DBC_MultiplexedSignal.png" alt="image-20230309132335597"></p>
<p>&#x5BFC;&#x5165;DaVinci&#x540E;&#x5373;&#x53EF;&#x6B63;&#x786E;&#x751F;&#x6210;IpduM&#x6A21;&#x5757;&#x3002;</p>
<p>*<em><strong>&#x4E00;&#x4E9B;&#x5C40;&#x9650;&#x6027;</strong></em> :</p>
<ul>
<li>DaVinci&#x65E0;&#x6CD5;&#x4E3A;&#x590D;&#x7528;&#x4FE1;&#x53F7;&#x751F;&#x6210;E2E&#x68C0;&#x67E5;</li>
<li>DaVinci&#x9ED8;&#x8BA4;&#x6269;&#x5C55;Ipud Group&#x7684;&#x5468;&#x671F;</li>
</ul>
</li>
<li>
<p><em>DaVinci &#x914D;&#x7F6E;&#x9879;</em></p>
<ul>
<li>
<p>IpduM:</p>
<ul>
<li>Tx Trigger Mode: &#x4E00;&#x822C;&#x9009;&#x62E9;DYNAMIC_PART_TRIGGER.&#x5373;&#x52A8;&#x6001;&#x6570;&#x636E;&#x66F4;&#x65B0;&#x540E;IpduM&#x6A21;&#x5757;&#x5C31;&#x4F1A;&#x5C06;&#x6570;&#x636E;&#x53D1;&#x9001;&#x5230;&#x4E0B;&#x4E00;&#x5C42;&#x3002;</li>
</ul>
</li>
<li>
<p>Com&#xFF1A;</p>
<ul>
<li>
<p>ComConfig-&gt;ComIPdus:</p>
<ul>
<li>Tx Mode Time Offset &amp;&amp; Tx Mode Time Period: &#x6BCF;&#x4E2A;Ipdu&#x7684;&#x53D1;&#x9001;&#x65F6;&#x95F4;&#x548C;&#x5468;&#x671F;&#xFF0C;&#x751F;&#x6210;&#x7684;&#x9ED8;&#x8BA4;&#x503C;&#x4E0D;&#x5951;&#x5408;&#x6211;&#x4EEC;&#x7684;&#x8F6F;&#x4EF6;&#x7B56;&#x7565;&#xFF0C;&#x9700;&#x8981;&#x624B;&#x52A8;&#x4FEE;&#x6539;&#x3002;</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Rte:</p>
<ul>
<li>IpduM&#x6709;&#x81EA;&#x5DF1;&#x7684;MainFunction, &#x9700;&#x8981;&#x5728;RTE&#x4E2D;&#x6307;&#x5B9A;Main function&#x7684;&#x4F4D;&#x7F6E;&#x3002;&#x4E3A;&#x4FDD;&#x8BC1;&#x5B9E;&#x65F6;&#x6027;&#xFF0C;&#x5EFA;&#x8BAE;&#x5C3D;&#x91CF;&#x9760;&#x8FD1;Com Main function.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><em>&#x529F;&#x80FD;&#x7B80;&#x4ECB;</em></p>
</li>
</ol>
<p>IpduM&#x6A21;&#x5757;&#x8D1F;&#x8D23;&#x5C06;&#x4ECE;COM&#x63A5;&#x6536;&#x5230;&#x7684;&#x9002;&#x5F53;&#x7684;Signal&#x4E0E;&#x53D1;&#x9001;&#x56DE;&#x53D1;&#x9001;&#x7AEF;&#x8DEF;&#x7531;&#x5668;&#x7684;&#x65B0;&#x7684;&#x591A;&#x8DEF;&#x590D;&#x7528;I-PDU&#x76F8;&#x7ED3;&#x5408;&#x3002;&#x5728;&#x63A5;&#x6536;&#x7AEF;&#xFF0C;&#x5B83;&#x8D1F;&#x8D23;&#x89E3;&#x91CA;&#x591A;&#x8DEF;&#x590D;&#x7528;I-PDU&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x5E76;&#x8003;&#x8651;&#x9009;&#x62E9;&#x5668;&#x5B57;&#x6BB5;&#x7684;&#x503C;&#xFF0C;&#x901A;&#x8FC7;I-PDU&#x4E3A;COM&#x63D0;&#x4F9B;&#x9002;&#x5F53;&#x7684;&#x5206;&#x79BB;I-PDU&#x3002;IpduM&#x6709;&#x4E00;&#x4E2A;&#x9009;&#x62E9;&#x5B57;&#x6BB5;&#xFF0C;&#x9009;&#x62E9;&#x5B57;&#x6BB5;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x591A;&#x8DEF;&#x5668;&#x7684;&#x9700;&#x8981;&#x6765;&#x914D;&#x7F6E;&#xFF0C;&#x957F;&#x5EA6;&#x4E3A;1 bit - 16 bits&#x4E4B;&#x95F4;&#xFF0C;&#x5178;&#x578B;&#x7684;&#x9009;&#x62E9;&#x5B57;&#x6BB5;&#x7684;&#x957F;&#x5EA6;&#x662F;4bits&#x3002;</p>
<hr>
<h2 class="mume-header" id="full-can-and-basic-can">Full Can and Basic Can</h2>

<h3 class="mume-header" id="can-module%E4%B8%8Ecan-node-controller%E5%85%B3%E7%B3%BB"><em><strong>CAN Module&#x4E0E;CAN Node&#x3001;Controller&#x5173;&#x7CFB;</strong></em></h3>

<p>&#x5728;&#x82AF;&#x7247;&#x624B;&#x518C;&#x4E2D;&#xFF08;Data Sheet&#xFF09;&#xFF0C;&#x4E00;&#x4E2A;CAN Module&#x4F1A;&#x5305;&#x542B;&#x591A;&#x4E2A;Node&#xFF08;&#x5373;&#xFF0C;Controller&#xFF09;&#x3002;&#x6BD4;&#x5982;&#xFF1A;TC357&#x82AF;&#x7247;&#x624B;&#x518C;&#x4E2D;&#xFF0C;MCMCANModule&#x5305;&#x542B;2&#x4E2A;CAN Module&#xFF0C;&#x6BCF;&#x4E2A;Module&#x5305;&#x542B;4&#x4E2A;Controller&#xFF0C;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A;</p>
<p><img src="./CanModule.drawio.png" alt="Can Module"></p>
<h3 class="mume-header" id="controller%E4%B8%8Etransceiver%E5%85%B3%E7%B3%BB"><em><strong>Controller&#x4E0E;Transceiver&#x5173;&#x7CFB;</strong></em></h3>

<p>&#x5728;&#x5B9E;&#x9645;&#x7684;&#x4F7F;&#x7528;&#x4E2D;&#xFF0C;&#x4E00;&#x4E2A;Controller&#x5FC5;&#x987B;&#x914D;&#x4E00;&#x4E2A;Transceiver&#xFF0C;Controller+Transceiver = Network&#xFF0C;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A;</p>
<img src="./Relationship_between_CanController_and_Transceiver.jpg#pic_center" alt="Can Controller and Transceiver">
<p>&#x6240;&#x4EE5;&#xFF0C;&#x5E73;&#x65F6;&#x6211;&#x4EEC;&#x53E3;&#x8BED;&#x8BDD;&#x7684;&#x201C;3&#x8DEF;CAN&#x201D;&#x662F;&#x6307;3&#x4E2A;Controller+Transceiver&#x7EC4;&#x5408;&#xFF0C;&#x5373;&#xFF1A;3&#x4E2A;Network&#xFF0C;&#x6211;&#x4EEC;&#x4E5F;&#x5E38;&#x79F0;&#x201C;3&#x4E2A;&#x8282;&#x70B9;&#x201D;&#x3002;</p>
<h3 class="mume-header" id="controller%E4%B8%8Eram%E8%B5%84%E6%BA%90%E5%85%B3%E7%B3%BB"><em><strong>Controller&#x4E0E;RAM&#x8D44;&#x6E90;&#x5173;&#x7CFB;</strong></em></h3>

<p>&#x521A;&#x63D0;&#x5230;&#xFF0C;TC357&#x4E2D;&#xFF0C;&#x4E00;&#x4E2A;CAN Module&#x5305;&#x542B;4&#x4E2A;Controller&#xFF0C;&#x90A3;&#x6BCF;&#x4E2A;Controller&#x53EF;&#x4EE5;&#x53D1;&#x9001;&#x591A;&#x5C11;&#x4E2A;CAN&#x62A5;&#x6587;&#xFF0C;&#x63A5;&#x6536;&#x591A;&#x5C11;&#x4E2A;CAN &#x62A5;&#x6587;&#x5462;&#xFF1F;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x8981;&#x533A;&#x5206;&#x786C;&#x4EF6;&#x7F13;&#x5B58;CAN&#x62A5;&#x6587;&#x7684;&#x6570;&#x91CF;&#x548C;&#x9879;&#x76EE;&#x4E2D;&#x8981;&#x6C42;&#x53D1;&#x9001;/&#x63A5;&#x6536;&#x62A5;&#x6587;&#x7684;&#x6570;&#x91CF;&#x3002;</p>
<p>&#x786C;&#x4EF6;&#x7F13;&#x5B58;CAN&#x62A5;&#x6587;&#x6570;&#x91CF;&#xFF1A;&#x662F;&#x6307;&#x4E0A;&#x5C42;&#x8BF7;&#x6C42;&#x53D1;&#x9001;&#x62A5;&#x6587;&#x6216;&#x8005;&#x63A5;&#x6536;&#x62A5;&#x6587;&#x65F6;&#xFF0C;CAN&#x9A71;&#x52A8;&#x6700;&#x591A;&#x80FD;&#x7F13;&#x5B58;&#x7684;&#x6570;&#x91CF;&#xFF1B;<br>
&#x9879;&#x76EE;&#x4E2D;&#x8981;&#x6C42;&#x53D1;&#x9001;/&#x63A5;&#x6536;&#x62A5;&#x6587;&#x7684;&#x6570;&#x91CF;&#xFF1A;&#x662F;&#x6307;&#x5F53;&#x524D;&#x8282;&#x70B9;&#x8981;&#x5916;&#x53D1;&#x6216;&#x8005;&#x63A5;&#x6536;&#x7684;&#x62A5;&#x6587;&#x6570;&#x91CF;&#x3002;<br>
&#x4EE5;&#x53D1;&#x9001;CAN&#x62A5;&#x6587;&#x6570;&#x91CF;&#x4E3A;&#x4F8B;&#xFF1A;&#x9700;&#x6C42;&#x8981;&#x6C42;&#x5F53;&#x524D;&#x7F51;&#x7EDC;&#x8282;&#x70B9;&#x53D1;&#x9001;100&#x5E27;CanID&#x4E0D;&#x540C;&#x7684;CAN&#x62A5;&#x6587;&#xFF0C;&#x5B9E;&#x9645;&#x8BE5;&#x8282;&#x70B9;CAN Controller&#x53EF;&#x7528;&#x7684;&#x786C;&#x4EF6;&#x53D1;&#x9001;&#x7F13;&#x5B58;&#x533A;&#x6700;&#x591A;&#x6709;32&#xFF0C;&#x610F;&#x5473;&#x7740;&#x5E95;&#x5C42;&#x786C;&#x4EF6;&#x6700;&#x591A;&#x7F13;&#x5B58;32&#x5E27;&#x53D1;&#x9001;&#x62A5;&#x6587;&#xFF0C;&#x5982;&#x679C;&#x8D85;&#x8FC7;32&#x5E27;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#xFF0C;&#x5219;&#x4F1A;&#x56E0;&#x6CA1;&#x6709;&#x786C;&#x4EF6;&#x7A7A;&#x95F4;&#x7F13;&#x5B58;&#x800C;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#x5931;&#x8D25;&#x3002;</p>
<p>TC357 CAN Module&#x8D44;&#x6E90;&#x60C5;&#x51B5;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A;<em>Ref. TC35X_um_appx_V1.1.0.pdf</em></p>
<p><img src="./TC357_MCMCAN.png" alt="TC357_MCMCAN"></p>
<p>&#x63D0;&#x793A;&#xFF1A;&#x4E0A;&#x56FE;&#x4E2D;&#x7684;Controller&#x7528;&#x201C;Node&#x201D;&#x8868;&#x793A;&#x3002;&#x7531;&#x4E0A;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#xFF0C;&#xFF12;&#x4E2A;CAN Module&#xFF0C;&#x5171;&#xFF18;&#x4E2A;Controller&#x3002;&#x6BCF;&#x4E2A;CAN Controller&#x53EF;&#x7528;32&#x4E2A;&#x53D1;&#x9001;Tx Buffer...&#x5BF9;&#x4E8E;&#x53D1;&#x9001;&#x7F13;&#x51B2;&#x533A;&#xFF0C;&#x6BCF;&#x4E2A;CAN Controller&#x53EF;&#x7528;32&#x4E2A;&#x53D1;&#x9001;&#x7F13;&#x51B2;&#x533A;&#xFF0C;&#x5982;&#x679C;&#x914D;&#x7F6E;&#x4E86;32&#x4E2A;Tx Dedicated Buffer&#xFF0C;&#x5219;&#x6CA1;&#x6709;&#x7A7A;&#x95F4;&#x914D;&#x7F6E;Tx FIFO/Queue&#x3002;&#x4E00;&#x822C;&#xFF0C;Tx Buffer&#x914D;&#x7F6E;&#x65F6;&#xFF0C;&#x4F1A;&#x6DF7;&#x5408;&#x4F7F;&#x7528;&#xFF0C;&#x6BD4;&#x5982;&#xFF1A;</p>
<p>20 Tx Dedicated Buffer+ 12 Tx Queue<br>
MCMCANModule RAM&#x533A;&#x5730;&#x5740;&#x5212;&#x5206;&#x987A;&#x5E8F;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A;<em>Ref. AURIXTC3XX_um_part2_v1.2.0</em></p>
<p><img src="./MCMCANModule_RAM.jpg" alt="image-20230310132646731"></p>
<h3 class="mume-header" id="mailbox-hrh-hwobject"><em><strong>Mailbox&#x3001;HRH&#x3001;HWObject</strong></em></h3>

<p><strong>Mailbox</strong>&#xFF1A;&#x90AE;&#x7BB1;&#xFF0C;&#x5C31;&#x662F;CAN&#x9A71;&#x52A8;&#x6240;&#x5177;&#x6709;&#x7684;&#x63A5;&#x6536;&#x7F13;&#x5B58;&#x533A;&#x548C;&#x53D1;&#x9001;&#x7F13;&#x5B58;&#x533A;&#xFF0C;&#x63A5;&#x6536;&#x7F13;&#x5B58;&#x533A;&#x548C;&#x53D1;&#x9001;&#x7F13;&#x5B58;&#x533A;&#x5747;&#x5728;RAM&#x533A;&#x3002;</p>
<p><strong>HWObject</strong>&#xFF1A;&#x786C;&#x4EF6;&#x5BF9;&#x8C61;&#xFF0C;&#x5305;&#x542B;CAN ID&#x3001;DLC&#x3001;Data&#x7B49;&#x4FE1;&#x606F;&#x7684;RAM&#x533A;&#x3002;</p>
<p><strong>HRH</strong>&#xFF1A;Hardware Receive Handle&#xFF0C;&#x63A5;&#x6536;&#x53E5;&#x67C4;&#xFF0C;&#x4E00;&#x4E2A;HRH&#x8868;&#x793A;&#x4E00;&#x4E2A;&#x63A5;&#x6536;HWObject&#x3002;</p>
<p><strong>HTH</strong>&#xFF1A;Hardware Transmit Handle&#xFF0C;&#x53D1;&#x9001;&#x53E5;&#x67C4;&#xFF0C;&#x4E00;&#x4E2A;HTH&#x8868;&#x793A;&#x4E00;&#x4E2A;&#x53D1;&#x9001;HWObject&#x3002;</p>
<p>Mailbox&#x3001;HWObject&#x3001;HRH&#x3001;HTH&#x3001;Controller&#x3001;Transceiver&#x4E4B;&#x95F4;&#x7684;&#x5173;&#x7CFB;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A;</p>
<p><img src="./Mailbox_HRH_HWobject.jpg" alt="Mailbox HRH HTH HWobject"></p>
<h3 class="mume-header" id="fullcan%E5%92%8Cbasiccan%E6%98%AF%E4%BB%80%E4%B9%88"><strong>FullCAN&#x548C;BasicCAN&#x662F;&#x4EC0;&#x4E48;</strong></h3>

<p>&#x9996;&#x5148;&#xFF0C;FullCAN&#x548C;BasicCAN&#x662F;CanIf&#x6A21;&#x5757;&#x914D;&#x7F6E;&#x7684;&#x53C2;&#x6570;&#x3002;</p>
<p><em>BasicCAN</em>&#xFF1A;&#x4E00;&#x4E2A;HWObject(Hardware Object)&#x53EF;&#x4EE5;&#x5904;&#x7406;&#x4E00;&#x6BB5;&#x8303;&#x56F4;&#x7684;CanId<br>
<em>FullCAN</em>&#xFF1A;&#x4E00;&#x4E2A;HWObject(Hardware Object)&#x53EA;&#x80FD;&#x5904;&#x7406;&#x5355;&#x4E2A;CanId</p>
<p>Autosar&#x5BF9;FullCAN&#x548C;BasicCAN&#x7684;&#x89E3;&#x91CA;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A;</p>
<blockquote>
<p>A CAN mailbox(Hardware Object) for FullCAN operation only enables transmission or reception of single CanIds. Accordingly, BasicCAN operation of one Hardware Object enables to transmit or receive a ranage of CanIDs.</p>
</blockquote>
<p>&#x5C06;&#x4E0A;&#x8FF0;&#x7684;&#x89E3;&#x91CA;&#x8FDB;&#x4E00;&#x6B65;&#x7EC6;&#x5316;&#xFF0C;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A;</p>
<img src="./MessageObjects_CanHardware.png" alt="MessageObjects">
<p>&#x4F7F;&#x7528;&#x5DE5;&#x7A0B;&#x4E2D;&#xFF0C;MCAL&#x4F1A;&#x5C06;&#x7F13;&#x5B58;&#x533A;&#x5206;&#x914D;&#x6210;FIFO&#x548C;Dedicated Buffer&#xFF0C;FIFO&#x548C;Dedicated Buffer&#x7684;&#x533A;&#x522B;&#x662F;&#x4EC0;&#x4E48;&#x5462;&#xFF1F;Dedicated Buffer&#x533A;&#x57DF;&#xFF0C;Hareware Object&#x4E0E;HRH/HTH&#x4E00;&#x4E00;&#x5BF9;&#x5E94;&#xFF0C;&#x800C;FIFO&#x533A;&#x57DF;&#xFF0C;&#x4E00;&#x4E2A;HRH/HTH&#x5BF9;&#x5E94;&#x591A;&#x4E2A;Hareware Object&#xFF0C;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A;</p>
<img src="./MessageObjects_CanHardware_HRH_HTH.png" alt="MessageObjects">
<p>&#x4E3A;&#x4EC0;&#x4E48;&#x9700;&#x8981;FullCAN&#x548C;BasicCAN&#xFF1F;<br>
&#x5728;CAN&#x9A71;&#x52A8;&#x5C42;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x8FC7;&#x6EE4;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x8FC7;&#x6EE4;&#x4E00;&#x6BB5;&#x8303;&#x56F4;&#x5185;&#x7684;CanID&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF1A;&#x4F1A;&#x6709;&#x4E00;&#x6BB5;&#x8303;&#x56F4;&#x5185;&#x7684;&#x62A5;&#x6587;&#x63A5;&#x6536;&#x8FDB;&#x6765;&#xFF0C;&#x4F46;&#x662F;&#x63A5;&#x6536;&#x8FDB;&#x6765;&#x7684;&#x8FD9;&#x4E00;&#x6BB5;&#x8303;&#x56F4;&#x7684;&#x62A5;&#x6587;&#x5E76;&#x4E0D;&#x4E00;&#x5B9A;&#x90FD;&#x662F;&#x4E0A;&#x5C42;&#x6240;&#x9700;&#x8981;&#x7684;&#xFF0C;&#x600E;&#x4E48;&#x529E;&#x5462;&#xFF1F;&#x7528;&#x8F6F;&#x4EF6;&#x65B9;&#x5F0F;&#xFF0C;&#x518D;&#x8FC7;&#x6EE4;&#x4E00;&#x904D;&#xFF0C;&#x7531;CanIf&#x8FC7;&#x6EE4;&#x6240;&#x9700;&#x8981;&#x7684;CAN&#x62A5;&#x6587;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x63D0;&#x51FA;&#x4E86;FullCAN&#x548C;BasicCAN&#x7684;&#x6982;&#x5FF5;&#x3002;</p>
<p>&#x6BD4;&#x5982;&#xFF1A;HRH&#x5BF9;&#x5E94;BASIC CAN&#x7C7B;&#x578B;&#xFF0C;&#x63A5;&#x6536;CanID&#x8303;&#x56F4;&#xFF1A;0x10<sub>0x18&#xFF0C;CanIf&#x6839;&#x636E;&#x8FC7;&#x6EE4;&#x7B97;&#x6CD5;&#xFF0C;&#x5728;0x10</sub>0x18&#x8303;&#x56F4;&#x5185;&#x8FC7;&#x6EE4;&#x51FA;&#x9700;&#x8981;&#x7684;0x10&#x3001;0x13&#x3001;0x14&#x3001;0x16&#x3001;0x17&#x9001;&#x7ED9;&#x4E0A;&#x5C42;&#xFF0C;&#x800C;&#x5176;&#x4F59;&#x7684;&#x4E22;&#x5F03;&#xFF0C;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A;</p>
<img src="./Filter.jpg" alt="Filter" style="zoom:80%;">
<p>CanIf&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x8BBE;&#x7F6E;CANIF_HRHRANGE_LOWER_CANID&#x3001;CANIF_HRHRANGE_UPPER_CANID&#x65B9;&#x5F0F;&#x8FC7;&#x6EE4;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x8BBE;&#x7F6E;CANIF_HRHRANGE_BASEID&#x3001;CANIF_HRHRANGE_MASK&#x8FDB;&#x884C;&#x8FC7;&#x6EE4;&#x3002;</p>
<p>&#x4E0D;&#x540C;&#x62A5;&#x6587;&#x7C7B;&#x578B;&#x5982;&#x4F55;&#x9009;&#x62E9;FULL CAN/BASIC CAN<br>
&#x5E94;&#x7528;&#x62A5;&#x6587;&#xFF1A;&#x4E00;&#x822C;&#x9009;&#x62E9;&#x914D;&#x7F6E;&#x6210;FULL CAN&#x7C7B;&#x578B;&#xFF0C;&#x5BF9;&#x4E8E;&#x5E94;&#x7528;&#x62A5;&#x6587;&#xFF0C;&#x4E00;&#x822C;&#x4E0D;&#x9700;&#x8981;&#x7F13;&#x5B58;&#xFF0C;&#x4F7F;&#x7528;&#x6700;&#x65B0;&#x63A5;&#x6536;&#x7684;&#x6570;&#x636E;&#x5373;&#x53EF;&#x3002;&#x5BF9;&#x4E8E;&#x53D1;&#x9001;&#x7684;&#x5E94;&#x7528;&#x62A5;&#x6587;&#xFF0C;&#x90FD;&#x914D;&#x7F6E;&#x6210;FULL CAN&#x7C7B;&#x578B;&#x9700;&#x8981;&#x4E00;&#x4E2A;&#x524D;&#x63D0;&#xFF1A;&#x4E0A;&#x5C42;&#x9700;&#x8981;&#x53D1;&#x9001;&#x5E94;&#x7528;&#x62A5;&#x6587;&#x6570;&#x91CF;&#xFF1C;&#x5E95;&#x5C42;&#x786C;&#x4EF6;&#x7F13;&#x5B58;&#x533A;&#x6570;&#x91CF;&#x3002;&#x6BD4;&#x5982;&#xFF1A;&#x5E95;&#x5C42;&#x53D1;&#x9001;&#x786C;&#x4EF6;&#x7F13;&#x5B58;&#x533A;&#x6570;&#x91CF;&#x4E3A;32&#xFF0C;&#x8282;&#x70B9;&#x9700;&#x8981;&#x53D1;&#x9001;&#x7684;&#x5E94;&#x7528;&#x62A5;&#x6587;&#x6570;&#x91CF;&#x4E3A;50&#xFF0C;&#x663E;&#x7136;&#x65E0;&#x6CD5;&#x5C06;50&#x4E2A;&#x53D1;&#x9001;&#x7684;&#x5E94;&#x7528;&#x62A5;&#x6587;&#x90FD;&#x914D;&#x7F6E;&#x6210;FULL CAN&#x3002;&#x9047;&#x5230;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#xFF0C;&#x4E00;&#x822C;&#x4F1A;&#x5C06;&#x91CD;&#x8981;&#x7684;&#x5E94;&#x7528;&#x62A5;&#x6587;&#x914D;&#x7F6E;&#x6210;FULL CAN&#xFF0C;&#x800C;&#x5176;&#x4ED6;&#x8981;&#x53D1;&#x9001;&#x7684;&#x5E94;&#x7528;&#x62A5;&#x6587;&#x914D;&#x7F6E;&#x6210;BASIC CAN&#x3002;&#x8FD9;&#x6837;&#x914D;&#x7F6E;&#x4EE5;&#x540E;&#xFF0C;&#x786C;&#x4EF6;&#x7F13;&#x5B58;&#x533A;&#x7684;&#x5206;&#x914D;&#x5C31;&#x9700;&#x8981;&#x6DF7;&#x7528;&#xFF0C;&#x5373;&#xFF1A;Dedicated Tx Buffers+Tx Queue&#x6216;&#x8005; Dedicated Tx Buffers+Tx FIFO&#xFF0C;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A;</p>
<img src="./Config.jpg" alt="Config Example" style="zoom:80%;">
<p>&#x5982;&#x4E0A;&#x56FE;&#xFF0C;ID3&#x3001;ID15&#x3001;ID20&#x662F;&#x6BD4;&#x8F83;&#x91CD;&#x8981;&#x7684;&#x5E94;&#x7528;&#x62A5;&#x6587;&#xFF0C;&#x914D;&#x7F6E;&#x6210;FULL CAN&#xFF0C;&#x5206;&#x522B;&#x7ED9;&#x4E00;&#x4E2A;&#x72EC;&#x7ACB;&#x7684;&#x7F13;&#x5B58;&#x533A;&#xFF1B;&#x5176;&#x4ED6;&#x7684;&#x7F13;&#x5B58;&#x533A;&#x5219;&#x914D;&#x7F6E;&#x6210;BASIC CAN&#xFF0C;&#x5373;&#xFF1A;&#x4E00;&#x4E2A;&#x7F13;&#x5B58;&#x533A;&#x53EF;&#x4EE5;&#x53D1;&#x9001;&#x591A;&#x4E2A;&#x4E0D;&#x540C;CanID&#x7684;&#x62A5;&#x6587;&#x3002;</p>
<p>&#x8BCA;&#x65AD;&#x62A5;&#x6587;&#xFF1A;&#x4E00;&#x822C;&#x9009;&#x62E9;&#x914D;&#x7F6E;&#x6210;BASIC CAN&#x7C7B;&#x578B;&#xFF08;&#x7ED3;&#x5408;FIFO Buffer&#x4F7F;&#x7528;&#xFF09;&#xFF0C;&#x56E0;&#x4E3A;&#x8BCA;&#x65AD;&#x62A5;&#x6587;&#x7684;&#x8BF7;&#x6C42;/&#x54CD;&#x5E94;&#x4E0D;&#x80FD;&#x9519;&#x5E8F;&#xFF0C;&#x9700;&#x6309;&#x7167;&#x987A;&#x5E8F;&#x5904;&#x7406;&#xFF0C;&#x4E14;&#x6570;&#x636E;&#x4E0D;&#x80FD;&#x8986;&#x76D6;&#xFF1B;</p>
<p>&#x7F51;&#x7EDC;&#x7BA1;&#x7406;&#x62A5;&#x6587;&#xFF1A;&#x63A5;&#x6536;&#x4E00;&#x822C;&#x9009;&#x62E9;&#x914D;&#x7F6E;&#x6210;BASIC CAN&#x7C7B;&#x578B;&#xFF0C;&#x56E0;&#x4E3A;&#x4E00;&#x4E2A;&#x8282;&#x70B9;&#x4E00;&#x822C;&#x4F1A;&#x8981;&#x6C42;&#x63A5;&#x6536;&#x4E00;&#x6BB5;&#x8303;&#x56F4;&#x7684;&#x7F51;&#x7EDC;&#x7BA1;&#x7406;&#x62A5;&#x6587;&#xFF0C;eg:0x500~0x53F&#x3002;&#x53D1;&#x9001;&#x7F51;&#x7EDC;&#x7BA1;&#x7406;&#x62A5;&#x6587;&#x914D;&#x7F6E;&#x6210;FULL/BASIC CAN&#x7C7B;&#x578B;&#x5747;&#x53EF;&#xFF0C;&#x5982;&#x679C;&#x8D44;&#x6E90;&#x591F;&#x7528;&#xFF0C;&#x63A8;&#x8350;&#x914D;&#x7F6E;&#x6210;FULL CAN&#x7C7B;&#x578B;&#xFF0C;&#x56E0;&#x4E3A;&#x6BCF;&#x4E2A;&#x8282;&#x70B9;&#x7684;&#x53D1;&#x9001;&#x7F51;&#x7EDC;&#x7BA1;&#x7406;&#x62A5;&#x6587;&#x552F;&#x4E00;&#xFF1B;</p>
<hr>
<h2 class="mume-header" id="can-bus-off">Can Bus off</h2>

<h3 class="mume-header" id="busoff-background-knowledge">Busoff Background Knowledge</h3>

<h4 class="mume-header" id="can-%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86%E6%9C%BA%E5%88%B6"><em><strong>CAN &#x9519;&#x8BEF;&#x5904;&#x7406;&#x673A;&#x5236;</strong></em></h4>

<h5 class="mume-header" id="%E9%94%99%E8%AF%AF%E7%B1%BB%E5%9E%8B">&#x9519;&#x8BEF;&#x7C7B;&#x578B;</h5>

<ul>
<li>
<p>Error detection &#x9519;&#x8BEF;&#x68C0;&#x6D4B;</p>
<ul>
<li>Bit monitoring &#x4F4D;&#x76D1;&#x63A7;</li>
<li>Stuff rule check &#x586B;&#x5145;&#x89C4;&#x5219;&#x68C0;&#x6D4B;</li>
<li>Frame form check&#x5E27;&#x683C;&#x5F0F;&#x68C0;&#x6D4B;</li>
<li>15 bit CRC CRC&#x6821;&#x9A8C;</li>
<li>ACK check &#x54CD;&#x5E94;&#x68C0;&#x6D4B;</li>
</ul>
</li>
<li>
<p>Error signalling &#x9519;&#x8BEF;&#x544A;&#x77E5;</p>
<ul>
<li>error frame &#x53D1;&#x9001;&#x9519;&#x8BEF;&#x5E27;</li>
<li>Negative ACK&#x56DE;&#x590D;&#x9690;&#x6027;ACK</li>
</ul>
</li>
<li>
<p>Error Correction &#x9519;&#x8BEF;&#x7EA0;&#x6B63;</p>
<ul>
<li>&#x91CD;&#x53D1;</li>
</ul>
</li>
</ul>
<h5 class="mume-header" id="%E9%94%99%E8%AF%AF%E8%AE%A1%E6%95%B0%E5%99%A8">&#x9519;&#x8BEF;&#x8BA1;&#x6570;&#x5668;</h5>

<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:left">&#x63A5;&#x6536;&#x559D;&#x53D1;&#x9001;&#x9519;&#x8BEF;&#x8BA1;&#x6570;&#x5668;&#x503C;&#x5F97;&#x53D8;&#x52A8;&#x6761;&#x4EF6;</th>
<th style="text-align:center">&#x53D1;&#x9001;&#x9519;&#x8BEF;&#x8BA1;&#x6570;&#x5668;&#x503C;(TEC)</th>
<th style="text-align:center">&#x63A5;&#x6536;&#x9519;&#x8BEF;&#x8BA1;&#x6570;&#x5668;&#x503C;(REC)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:left">&#x63A5;&#x6536;&#x5355;&#x5143;&#x68C0;&#x6D4B;&#x51FA;&#x9519;&#x8BEF;&#x65F6;</td>
<td style="text-align:center">-</td>
<td style="text-align:center">+1</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:left">&#x63A5;&#x6536;&#x5355;&#x5143;&#x5728;&#x53D1;&#x9001;&#x5B8C;&#x9519;&#x8BEF;&#x6807;&#x5FD7;&#x4F4D;&#x540E;&#x68C0;&#x6D4B;&#x5230;&#x5F97;&#x7B2C;&#x4E00;&#x4E2A;&#x6807;&#x5FD7;&#x4E3A;&#x663E;&#x6027;&#x7535;&#x5E73;</td>
<td style="text-align:center">-</td>
<td style="text-align:center">+8</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:left">&#x53D1;&#x9001;&#x5355;&#x5143;&#x5728;&#x8F93;&#x51FA;&#x9519;&#x8BEF;&#x6807;&#x5FD7;&#x65F6;</td>
<td style="text-align:center">+8</td>
<td style="text-align:center">-</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:left">&#x53D1;&#x9001;&#x5355;&#x5143;&#x5728;&#x53D1;&#x9001;&#x4E3B;&#x52A8;&#x9519;&#x8BEF;&#x6807;&#x5FD7;&#x6216;&#x8FC7;&#x8F7D;&#x6807;&#x5FD7;&#x65F6;&#xFF0C;&#x68C0;&#x6D4B;&#x51FA;&#x4F4D;&#x9519;&#x8BEF;</td>
<td style="text-align:center">+8</td>
<td style="text-align:center">-</td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:left">&#x63A5;&#x6536;&#x5355;&#x5143;&#x5728;&#x53D1;&#x9001;&#x4E3B;&#x52A8;&#x9519;&#x8BEF;&#x6807;&#x5FD7;&#x6216;&#x8FC7;&#x8F7D;&#x6807;&#x5FD7;&#x65F6;&#xFF0C;&#x68C0;&#x6D4B;&#x51FA;&#x4F4D;&#x9519;&#x8BEF;</td>
<td style="text-align:center">-</td>
<td style="text-align:center">+8</td>
</tr>
<tr>
<td style="text-align:center">6</td>
<td style="text-align:left">&#x5404;&#x5355;&#x5143;&#x4ECE;&#x4E3B;&#x52A8;&#x9519;&#x8BEF;&#x6807;&#x5FD7;&#x3001;&#x8FC7;&#x8F7D;&#x6807;&#x5FD7;&#x7684;&#x6700;&#x5F00;&#x59CB;&#x68C0;&#x6D4B;&#x51FA;&#x8FDE;&#x7EED;14&#x4E2A;&#x4F4D;&#x7684;&#x663E;&#x6027;&#x4F4D;&#x65F6;&#x3002;&#x4E4B;&#x540E;&#xFF0C;&#x6BCF;&#x68C0;&#x6D4B;&#x51FA;&#x8FDE;&#x7EED;&#x7684;8&#x4E2A;&#x4F4D;&#x7684;&#x663E;&#x6027;&#x4F4D;&#x65F6;&#x3002;</td>
<td style="text-align:center">+8</td>
<td style="text-align:center">+8</td>
</tr>
<tr>
<td style="text-align:center">7</td>
<td style="text-align:left">&#x68C0;&#x6D4B;&#x51FA;&#x5728;&#x88AB;&#x52A8;&#x6807;&#x5FD7;&#x4F4D;&#x540E;&#x8FFD;&#x52A0;&#x7684;&#x8FDE;&#x7EED;8&#x4E2A;&#x4F4D;&#x7684;&#x663E;&#x6027;&#x4F4D;&#x65F6;</td>
<td style="text-align:center">+8</td>
<td style="text-align:center">+8</td>
</tr>
<tr>
<td style="text-align:center">8</td>
<td style="text-align:left">&#x53D1;&#x9001;&#x5355;&#x5143;&#x6B63;&#x5E38;&#x53D1;&#x9001;&#x6570;&#x636E;&#x7ED3;&#x675F;&#x65F6;</td>
<td style="text-align:center">-1</td>
<td style="text-align:center">-</td>
</tr>
<tr>
<td style="text-align:center">9</td>
<td style="text-align:left">&#x63A5;&#x6536;&#x5355;&#x5143;&#x6B63;&#x5E38;&#x63A5;&#x6536;&#x6570;&#x636E;&#x7ED3;&#x675F;&#x65F6;</td>
<td style="text-align:center">-</td>
<td style="text-align:center"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mn>1</mn><mo>&lt;</mo><mo>=</mo><mi>R</mi><mi>E</mi><mi>C</mi><mo>&lt;</mo><mo>=</mo><mn>127</mn></mrow><annotation encoding="application/x-tex">1&lt;=REC&lt;=127</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6835em;vertical-align:-0.0391em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7224em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">REC</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">127</span></span></span></span></span>&#x65F6;-1,REC&gt;127,&#x8BBE; REC=127</td>
</tr>
<tr>
<td style="text-align:center">10</td>
<td style="text-align:left">&#x5904;&#x4E8E;Bus Off&#x7684;&#x5355;&#x5143;&#xFF0C;&#x68C0;&#x6D4B;&#x5230;128&#x6B21;&#x8FDE;&#x7EED;11&#x4E2A;&#x4F4D;&#x7684;&#x9690;&#x6027;&#x4F4D;</td>
<td style="text-align:center">TEC=0</td>
<td style="text-align:center">TEC=0</td>
</tr>
</tbody>
</table>
<h5 class="mume-header" id="%E9%94%99%E8%AF%AF%E7%8A%B6%E6%80%81">&#x9519;&#x8BEF;&#x72B6;&#x6001;</h5>

<p>&#x5BF9;&#x4E8E;&#x9519;&#x8BEF;&#x754C;&#x5B9A;&#xFF0C;&#x8282;&#x70B9;&#x5B58;&#x5728;&#x5982;&#x4E0B;&#x4E09;&#x79CD;&#x72B6;&#x6001;&#xFF1A;</p>
<p>&#x4E3B;&#x52A8;&#x9519;&#x8BEF;<br>
&#x88AB;&#x52A8;&#x9519;&#x8BEF;<br>
&#x603B;&#x7EBF;&#x5173;&#x95ED;</p>
<p><img src="./Node_status_transition_diagram.png" alt="Node_status_transition_diagram"></p>
<ul>
<li>
<p>&#x4E3B;&#x52A8;&#x9519;&#x8BEF;&#xFF1A;<br>
&#x5904;&#x4E8E;&#x4E3B;&#x52A8;&#x9519;&#x8BEF;&#x72B6;&#x6001;&#x7684;&#x8282;&#x70B9;&#x80FD;&#x6B63;&#x5E38;&#x53C2;&#x4E0E;&#x603B;&#x7EBF;&#x901A;&#x4FE1;&#x7684;&#x6536;&#x53D1;&#xFF0C;&#x5F53;&#x68C0;&#x6D4B;&#x5230;&#x9519;&#x8BEF;&#x65F6;&#x5C06;&#x53D1;&#x9001;&#x4E3B;&#x52A8;&#x9519;&#x8BEF;&#x6807;&#x5FD7;&#xFF0C;&#x9519;&#x8BEF;&#x6807;&#x5FD7;&#x7531;6&#x4E2A;&#x8FDE;&#x7EED;&#x7684;&#x663E;&#x6027;&#x4F4D;&#x7EC4;&#x6210;&#xFF08;&#x8FD9;&#x79CD;&#x8FDE;&#x7EED;&#x7684;6&#x4E2A;&#x663E;&#x6027;&#x4F4D;&#x4E0E;&#x5E38;&#x89C4;&#x7684;&#x586B;&#x5145;&#x4F4D;&#x548C;&#x5176;&#x5B83;&#x5E27;&#x56FA;&#x5B9A;&#x683C;&#x5F0F;&#x4E0D;&#x76F8;&#x540C;&#xFF0C;&#x6B63;&#x56E0;&#x4E3A;&#x5982;&#x6B64;&#xFF0C;&#x786C;&#x4EF6;&#x624D;&#x5BB9;&#x6613;&#x533A;&#x522B;&#xFF09;&#x3002;<br>
&#x5982;&#x679C;&#x662F;&#x53D1;&#x9001;&#x8282;&#x70B9;&#x53D1;&#x9001;&#x4E3B;&#x52A8;&#x9519;&#x8BEF;&#x5E27;&#xFF0C;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x76F8;&#x5F53;&#x4E8E;&#x521A;&#x521A;&#x53D1;&#x9001;&#x7684;&#x90A3;&#x5E27;&#x62A5;&#x6587;&#x6211;&#x53D1;&#x9519;&#x4E86;&#xFF0C;&#x6211;&#x73B0;&#x5728;&#x4E3B;&#x52A8;&#x7834;&#x574F;&#x5B83;&#xFF0C;&#x5176;&#x4ED6;&#x8282;&#x70B9;&#x4E0D;&#x7BA1;&#x63A5;&#x6536;&#x5230;&#x4EC0;&#x4E48;&#x90FD;&#x4E0D;&#x7B97;&#x6570;&#xFF1B;<br>
&#x5982;&#x679C;&#x662F;&#x63A5;&#x6536;&#x8282;&#x70B9;&#x53D1;&#x9001;&#x4E3B;&#x52A8;&#x9519;&#x8BEF;&#x5E27;&#xFF0C;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x76F8;&#x5F53;&#x4E8E;&#x521A;&#x521A;&#x63A5;&#x6536;&#x7684;&#x90A3;&#x5E27;&#x62A5;&#x6587;&#x51FA;&#x9519;&#x4E86;&#xFF0C;&#x6211;&#x73B0;&#x5728;&#x4E3B;&#x52A8;&#x7AD9;&#x51FA;&#x6765;&#x544A;&#x8BC9;&#x5927;&#x5BB6;&#x8FD9;&#x4E2A;&#x9519;&#x8BEF;&#xFF0C;&#x5E76;&#x628A;&#x8FD9;&#x5E27;&#x62A5;&#x6587;&#x7834;&#x574F;&#x6389;&#xFF0C;&#x521A;&#x624D;&#x4F60;&#x4EEC;&#x4E0D;&#x7BA1;&#x63A5;&#x6536;&#x5230;&#x4EC0;&#x4E48;&#x90FD;&#x4E0D;&#x7B97;&#x6570;<br>
<strong>Tips&#xFF1A;&#x5904;&#x4E8E;&#x4E3B;&#x52A8;&#x9519;&#x8BEF;&#x72B6;&#x6001;&#xFF0C;&#x8BF4;&#x660E;&#x8FD9;&#x4E2A;&#x8282;&#x70B9;&#x76EE;&#x524D;&#x662F;&#x6BD4;&#x8F83;&#x53EF;&#x9760;&#x7684;&#xFF0C;&#x51FA;&#x73B0;&#x9519;&#x8BEF;&#x7684;&#x539F;&#x56E0;&#x53EF;&#x80FD;&#x4E0D;&#x662F;&#x5B83;&#x672C;&#x8EAB;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x5373;&#x521A;&#x521A;&#x68C0;&#x6D4B;&#x5230;&#x7684;&#x9519;&#x8BEF;&#x53EF;&#x80FD;&#x4E0D;&#x4EC5;&#x4EC5;&#x53EA;&#x6709;&#x5B83;&#x68C0;&#x6D4B;&#x5230;&#xFF0C;&#x6B63;&#x56E0;&#x4E3A;&#x5982;&#x6B64;&#xFF0C;&#x6574;&#x4E2A;&#x603B;&#x7EBF;&#x624D;&#x5141;&#x8BB8;&#x5B83;&#x7834;&#x574F;&#x6B63;&#x5728;&#x53D1;&#x9001;&#x4E2D;&#x7684;&#x62A5;&#x6587;&#x3002;</strong></p>
</li>
<li>
<p>&#x88AB;&#x52A8;&#x9519;&#x8BEF;&#xFF1A;<br>
&#x5904;&#x4E8E;&#x88AB;&#x52A8;&#x9519;&#x8BEF;&#x72B6;&#x6001;&#x7684;&#x8282;&#x70B9;&#x4E0D;&#x80FD;&#x53D1;&#x9001;&#x4E3B;&#x52A8;&#x9519;&#x8BEF;&#x6807;&#x5FD7;&#x3002;&#x5B83;&#x80FD;&#x53C2;&#x4E0E;&#x6B63;&#x5E38;&#x901A;&#x4FE1;&#xFF0C;&#x4F46;&#x5F53;&#x68C0;&#x6D4B;&#x5230;&#x9519;&#x8BEF;&#x65F6;&#x53D1;&#x9001;&#x7684;&#x662F;&#x88AB;&#x52A8;&#x9519;&#x8BEF;&#x6807;&#x5FD7;&#x3002;&#x88AB;&#x52A8;&#x9519;&#x8BEF;&#x6807;&#x5FD7;&#x7531;6&#x4E2A;&#x8FDE;&#x7EED;&#x7684;&#x9690;&#x6027;&#x4F4D;&#x7EC4;&#x6210;&#x3002;&#x5F53;&#x53D1;&#x9001;&#x7ED3;&#x675F;&#x540E;&#xFF0C;&#x5904;&#x4E8E;&#x88AB;&#x52A8;&#x9519;&#x8BEF;&#x72B6;&#x6001;&#x7684;&#x8282;&#x70B9;&#x5728;&#x4E0B;&#x4E00;&#x6B21;&#x518D;&#x6B21;&#x53D1;&#x9001;&#x65F6;&#x4E4B;&#x524D;&#x9700;&#x8981;&#x7B49;&#x5F85;&#x4E00;&#x4E9B;&#x989D;&#x5916;&#x65F6;&#x95F4;&#x3002;<br>
&#x5982;&#x679C;&#x662F;&#x53D1;&#x9001;&#x8282;&#x70B9;&#x53D1;&#x51FA;&#x88AB;&#x52A8;&#x9519;&#x8BEF;&#x5E27;&#xFF0C;&#x521A;&#x521A;&#x88AB;&#x53D1;&#x9001;&#x7684;&#x62A5;&#x6587;&#x88AB;&#x7834;&#x574F;&#x3002;&#x9519;&#x8BEF;&#x5E27;&#x53D1;&#x9001;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x63A5;&#x7740;&#x7684;&#x662F;&#x5E27;&#x95F4;&#x9694;&#xFF08;3&#x4E2A;&#x9690;&#x6027;&#x4F4D;&#xFF09;&#x548C;&#x201C;&#x4F20;&#x8F93;&#x5EF6;&#x65F6;&#x6BB5;&#x201D;&#xFF08;8&#x4E2A;&#x9690;&#x6027;&#x4F4D;&#xFF09;&#xFF0C;&#x8FD9;&#x65F6;&#x603B;&#x7EBF;&#x4E0A;&#x7684;&#x5176;&#x4ED6;&#x8282;&#x70B9;&#x5C31;&#x53EF;&#x4EE5;&#x5224;&#x65AD;&#x603B;&#x7EBF;&#x5904;&#x4E8E;&#x7A7A;&#x95F2;&#x72B6;&#x6001;&#x5E76;&#x53C2;&#x4E0E;&#x603B;&#x7EBF;&#x7ADE;&#x4E89;&#x3002;&#x8FD9;&#x79CD;&#x673A;&#x5236;&#x53EF;&#x4EE5;&#x8BA9;&#x5176;&#x4ED6;&#x5904;&#x4E8E;&#x4E3B;&#x52A8;&#x9519;&#x8BEF;&#x72B6;&#x6001;&#x7684;&#x8282;&#x70B9;&#x4F18;&#x5148;&#x4F7F;&#x7528;&#x603B;&#x7EBF;&#x3002;<br>
&#x5982;&#x679C;&#x662F;&#x63A5;&#x6536;&#x8282;&#x70B9;&#x53D1;&#x51FA;&#x88AB;&#x52A8;&#x9519;&#x8BEF;&#x5E27;&#xFF0C;&#x5219;&#x4E0D;&#x4F1A;&#x5BF9;&#x603B;&#x7EBF;&#x4EA7;&#x751F;&#x4EFB;&#x4F55;&#x5F71;&#x54CD;&#x3002;<br>
<strong>Tips&#xFF1A;&#x5904;&#x4E8E;&#x88AB;&#x52A8;&#x9519;&#x8BEF;&#x72B6;&#x6001;&#xFF0C;&#x8BF4;&#x660E;&#x8FD9;&#x4E2A;&#x8282;&#x70B9;&#x76EE;&#x524D;&#x662F;&#x4E0D;&#x53EF;&#x9760;&#x7684;&#xFF0C;&#x51FA;&#x73B0;&#x9519;&#x8BEF;&#x7684;&#x539F;&#x56E0;&#x53EF;&#x80FD;&#x662F;&#x5B83;&#x672C;&#x8EAB;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x5373;&#x521A;&#x521A;&#x68C0;&#x6D4B;&#x5230;&#x7684;&#x9519;&#x8BEF;&#x53EF;&#x80FD;&#x53EA;&#x6709;&#x5B83;&#x81EA;&#x5DF1;&#x68C0;&#x6D4B;&#x5230;&#xFF0C;&#x6B63;&#x56E0;&#x4E3A;&#x5982;&#x6B64;&#xFF0C;&#x6574;&#x4E2A;&#x603B;&#x7EBF;&#x4E0D;&#x4F1A;&#x4FE1;&#x4EFB;&#x5B83;&#x7684;&#x62A5;&#x544A;&#xFF0C;&#x4ECE;&#x800C;&#x53EA;&#x5141;&#x8BB8;&#x5B83;&#x53D1;&#x9001;6&#x4E2A;&#x8FDE;&#x7EED;&#x7684;&#x9690;&#x6027;&#x4F4D;&#xFF0C;&#x8FD9;&#x6837;&#x624D;&#x4E0D;&#x4F1A;&#x62D6;&#x7D2F;&#x5176;&#x4ED6;&#x8282;&#x70B9;&#x3002;</strong></p>
</li>
<li>
<p>&#x603B;&#x7EBF;&#x5173;&#x95ED;&#xFF1A;<br>
&#x5904;&#x4E8E;&#x603B;&#x7EBF;&#x5173;&#x95ED;&#x72B6;&#x6001;&#x7684;&#x8282;&#x70B9;&#x4E0D;&#x5141;&#x8BB8;&#x53D1;&#x9001;&#x548C;&#x63A5;&#x6536;&#x4EFB;&#x4F55;&#x5F62;&#x5F0F;&#x7684;&#x5E27;&#x62A5;&#x6587;&#x3002;&#x4E14;&#x53EA;&#x80FD;&#x901A;&#x8FC7;&#x7528;&#x6237;&#x8BF7;&#x6C42;&#x8FDB;&#x884C;&#x6062;&#x590D;&#x3002;</p>
</li>
</ul>
<p><em><strong>&#x5982;&#x679C;&#x603B;&#x7EBF;&#x4E0A;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x8282;&#x70B9;&#xFF0C;&#x8BE5;&#x8282;&#x70B9;&#x53D1;&#x9001;&#x6570;&#x636E;&#x5E27;&#x540E;&#x5F97;&#x4E0D;&#x5230;&#x5E94;&#x7B54;&#xFF0C;TEC&#x6700;&#x5927;&#x53EA;&#x80FD;&#x8BA1;&#x6570;&#x5230;128&#xFF0C;&#x5373;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#x8282;&#x70B9;&#x53EA;&#x4F1A;&#x8FDB;&#x5165;&#x88AB;&#x52A8;&#x9519;&#x8BEF;&#x72B6;&#x6001;&#x800C;&#x4E0D;&#x4F1A;&#x8FDB;&#x5165;&#x603B;&#x7EBF;&#x5173;&#x95ED;&#x72B6;&#x6001;&#x3002;</strong></em></p>
<h5 class="mume-header" id="%E9%94%99%E8%AF%AF%E6%81%A2%E5%A4%8D">&#x9519;&#x8BEF;&#x6062;&#x590D;</h5>

<p>&#x8282;&#x70B9;&#x8FDB;&#x5165;&#x603B;&#x7EBF;&#x5173;&#x95ED;&#x72B6;&#x6001;&#x540E;&#xFF0C;&#x666E;&#x904D;&#x91C7;&#x7528;&#x7684;&#x662F; <strong>&#x5FEB;&#x6162;&#x6062;&#x590D;</strong> &#x7684;&#x5F62;&#x5F0F;&#xFF1A;</p>
<ol>
<li>
<p>&#x7ACB;&#x5373;&#x91CD;&#x65B0;&#x521D;&#x59CB;&#x5316; CAN &#x82AF;&#x7247;&#xFF1B;</p>
</li>
<li>
<p>t(tBusOffQuick &#x6216; tBusOffSlow)&#x65F6;&#x95F4;&#x5185;&#x5E94;&#x6682;&#x505C;&#x53D1;&#x9001;&#x62A5;&#x6587;&#xFF0C;&#x5206;&#x4E3A;&#x5FEB;&#x901F;&#x6062;&#x590D;&#x548C;&#x6162;&#x901F;&#x6062;&#x590D;&#xFF1B;</p>
</li>
<li>
<p>&#x6062;&#x590D;&#x5230;&#x6B63;&#x5E38; CAN &#x901A;&#x4FE1;</p>
</li>
</ol>
<p><img src="./BusOff_Recorver.png" alt="image-20230310155424134"></p>
<h3 class="mume-header" id="state-machine">State Machine</h3>

<p><!--?xml version="1.0" encoding="us-ascii" standalone="no"?--><svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" height="661.6148px" preserveAspectRatio="none" style="width:1000px;height:661px;background:#FFFFFF;" version="1.1" viewBox="0 0 1000 661" width="1000.2613px" zoomAndPan="magnify"><defs/><g><!--cluster Init--><g id="cluster_Init"><path d="M10.1907,365.2992 L327.4105,365.2992 A6.5325,6.5325 0 0 1 333.943,371.8317 L333.943,377.1149 L3.6582,377.1149 L3.6582,371.8317 A6.5325,6.5325 0 0 1 10.1907,365.2992 " fill="#F1F1F1" style="stroke:#F1F1F1;stroke-width:0.5226025607525477;"/><rect fill="none" height="53.3055" rx="6.5325" ry="6.5325" style="stroke:#181818;stroke-width:0.26130128037627387;" width="330.2848" x="3.6582" y="365.2992"/><line style="stroke:#181818;stroke-width:0.26130128037627387;" x1="3.6582" x2="333.943" y1="377.1149" y2="377.1149"/><text fill="#000000" font-family="sans-serif" font-size="7.3164" lengthAdjust="spacing" textLength="9.4068" x="164.0972" y="374.9847">Init</text></g><g id="Init.CANSM_SD_CC_STOPPED"><rect fill="#F1F1F1" height="26.1301" rx="6.5325" ry="6.5325" style="stroke:#181818;stroke-width:0.26130128037627387;" width="102.9527" x="12.2812" y="384.1129"/><line style="stroke:#181818;stroke-width:0.26130128037627387;" x1="12.2812" x2="115.2339" y1="398.5416" y2="398.5416"/><text fill="#000000" font-family="sans-serif" font-size="7.3164" lengthAdjust="spacing" textLength="92.5007" x="17.5072" y="394.321">CANSM_SD_CC_STOPPED</text></g><g id="Init.CANSM_SD_CC_SLEEP"><rect fill="#F1F1F1" height="26.1301" rx="6.5325" ry="6.5325" style="stroke:#181818;stroke-width:0.26130128037627387;" width="91.4554" x="136.6606" y="384.1129"/><line style="stroke:#181818;stroke-width:0.26130128037627387;" x1="136.6606" x2="228.116" y1="398.5416" y2="398.5416"/><text fill="#000000" font-family="sans-serif" font-size="7.3164" lengthAdjust="spacing" textLength="81.0034" x="141.8866" y="394.321">CANSM_SD_CC_SLEEP</text></g><g id="Init.CANSM_S_NOCOM"><rect fill="#F1F1F1" height="26.1301" rx="6.5325" ry="6.5325" style="stroke:#181818;stroke-width:0.26130128037627387;" width="75.7774" x="249.5427" y="384.1129"/><line style="stroke:#181818;stroke-width:0.26130128037627387;" x1="249.5427" x2="325.3201" y1="398.5416" y2="398.5416"/><text fill="#000000" font-family="sans-serif" font-size="7.3164" lengthAdjust="spacing" textLength="65.3253" x="254.7687" y="394.321">CANSM_S_NOCOM</text></g><g id="elem_N1"><path d="M529.1351,14.6329 L529.1351,28.4043 L625.8166,28.4043 L625.8166,19.8589 L620.5905,14.6329 L529.1351,14.6329 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.26130128037627387;"/><path d="M620.5905,14.6329 L620.5905,19.8589 L625.8166,19.8589 L620.5905,14.6329 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5226025607525477;"/><text fill="#000000" font-family="sans-serif" font-size="6.7938" lengthAdjust="spacing" textLength="85.7068" x="532.2707" y="24.2985">BO: Busoff interrupt occured</text></g><g id="CANSM_S_NO_BUS_OFF"><rect fill="#F1F1F1" height="26.1301" rx="6.5325" ry="6.5325" style="stroke:#181818;stroke-width:0.26130128037627387;" width="96.6815" x="99.5558" y="112.3596"/><line style="stroke:#181818;stroke-width:0.26130128037627387;" x1="99.5558" x2="196.2373" y1="126.7883" y2="126.7883"/><text fill="#000000" font-family="sans-serif" font-size="7.3164" lengthAdjust="spacing" textLength="86.2294" x="104.7818" y="122.5677">CANSM_S_NO_BUS_OFF</text></g><g id="CANSM_BO_BUS_OFF_CHECK"><rect fill="#F1F1F1" height="35.4308" rx="6.5325" ry="6.5325" style="stroke:#181818;stroke-width:0.26130128037627387;" width="174.0267" x="333.6817" y="3.6582"/><line style="stroke:#181818;stroke-width:0.26130128037627387;" x1="333.6817" x2="507.7084" y1="18.0869" y2="18.0869"/><text fill="#000000" font-family="sans-serif" font-size="7.3164" lengthAdjust="spacing" textLength="106.0883" x="367.6509" y="13.8663">CANSM_BO_BUS_OFF_CHECK</text><text fill="#000000" font-family="sans-serif" font-size="6.2712" lengthAdjust="spacing" textLength="113.9274" x="336.2947" y="27.21">call CanIf_GetTxConfirmationState(); &amp;&amp;</text><text fill="#000000" font-family="sans-serif" font-size="6.2712" lengthAdjust="spacing" textLength="162.0068" x="337.8626" y="35.0981">CanSM_UniversalTimer = CANSM_CANCEL_TIMER(0u);</text></g><g id="CANSM_BO_TX_OFFLINE"><rect fill="#F1F1F1" height="27.5428" rx="6.5325" ry="6.5325" style="stroke:#181818;stroke-width:0.26130128037627387;" width="102.9527" x="893.9117" y="454.9255"/><line style="stroke:#181818;stroke-width:0.26130128037627387;" x1="893.9117" x2="996.8644" y1="469.3543" y2="469.3543"/><text fill="#000000" font-family="sans-serif" font-size="7.3164" lengthAdjust="spacing" textLength="87.2746" x="901.7507" y="465.1336">CANSM_BO_TX_OFFLINE</text><text fill="#000000" font-family="sans-serif" font-size="6.2712" lengthAdjust="spacing" textLength="92.5007" x="896.5247" y="478.4773">call CanSM_FullComReached();</text></g><g id="CANSM_SU_CC_STOPPED"><rect fill="#F1F1F1" height="51.2069" rx="6.5325" ry="6.5325" style="stroke:#181818;stroke-width:0.26130128037627387;" width="228.8999" x="172.9814" y="443.167"/><line style="stroke:#181818;stroke-width:0.26130128037627387;" x1="172.9814" x2="401.8814" y1="457.5957" y2="457.5957"/><text fill="#000000" font-family="sans-serif" font-size="7.3164" lengthAdjust="spacing" textLength="91.9781" x="241.4424" y="453.3751">CANSM_SU_CC_STOPPED</text><text fill="#000000" font-family="sans-serif" font-size="6.2712" lengthAdjust="spacing" textLength="79.4356" x="175.5945" y="466.7188">Set by CanSM_Mainfunction</text><text fill="#000000" font-family="sans-serif" font-size="6.2712" lengthAdjust="spacing" textLength="218.4479" x="175.5945" y="474.6068">when CanSM_RequestedComMode == COMM_FULL_COMMUNICATION &amp;&amp;</text><text fill="#000000" font-family="sans-serif" font-size="6.2712" lengthAdjust="spacing" textLength="136.9219" x="177.1623" y="482.4949">CanSM_CurrentState &gt; CANSM_S_SILENTCOM</text><text fill="#000000" font-family="sans-serif" font-size="6.2712" lengthAdjust="spacing" textLength="100.3397" x="177.1623" y="490.3829">call CanSM_CtrlStoppedIndicated()</text></g><g id="CANSM_SU_CC_STARTED"><rect fill="#F1F1F1" height="27.5428" rx="6.5325" ry="6.5325" style="stroke:#181818;stroke-width:0.26130128037627387;" width="101.9075" x="423.5694" y="454.9255"/><line style="stroke:#181818;stroke-width:0.26130128037627387;" x1="423.5694" x2="525.4769" y1="469.3543" y2="469.3543"/><text fill="#000000" font-family="sans-serif" font-size="7.3164" lengthAdjust="spacing" textLength="91.4554" x="428.7954" y="465.1336">CANSM_SU_CC_STARTED</text><text fill="#000000" font-family="sans-serif" font-size="6.2712" lengthAdjust="spacing" textLength="86.752" x="426.1824" y="478.4773">CanSM_CtrlStartedIndicated();</text></g><g id="elem_CanSM_CtrlStartedIndicated"><polygon fill="#F1F1F1" points="615.1032,462.5033,621.3744,468.7745,615.1032,475.0457,608.832,468.7745,615.1032,462.5033" style="stroke:#181818;stroke-width:0.26130128037627387;"/></g><g id="elem_CanSM_FullComReached"><polygon fill="#F1F1F1" points="689.8354,237.2616,696.1066,243.5328,689.8354,249.804,683.5641,243.5328,689.8354,237.2616" style="stroke:#181818;stroke-width:0.26130128037627387;"/></g><g id="CANSM_S_SILENTCOM"><rect fill="#F1F1F1" height="26.1301" rx="6.5325" ry="6.5325" style="stroke:#181818;stroke-width:0.26130128037627387;" width="89.8876" x="644.8916" y="170.3684"/><line style="stroke:#181818;stroke-width:0.26130128037627387;" x1="644.8916" x2="734.7792" y1="184.7972" y2="184.7972"/><text fill="#000000" font-family="sans-serif" font-size="7.3164" lengthAdjust="spacing" textLength="79.4356" x="650.1176" y="180.5765">CANSM_S_SILENTCOM</text></g><g id="CANSM_S_STARTWAKEUPSOURCES_SUCCESSFUL"><rect fill="#F1F1F1" height="26.1301" rx="6.5325" ry="6.5325" style="stroke:#181818;stroke-width:0.26130128037627387;" width="189.7047" x="387.5098" y="632.3491"/><line style="stroke:#181818;stroke-width:0.26130128037627387;" x1="387.5098" x2="577.2145" y1="646.7778" y2="646.7778"/><text fill="#000000" font-family="sans-serif" font-size="7.3164" lengthAdjust="spacing" textLength="179.2527" x="392.7358" y="642.5572">CANSM_S_STARTWAKEUPSOURCES_SUCCESSFUL</text></g><ellipse cx="960.0209" cy="183.4335" fill="none" rx="5.226" ry="5.226" style="stroke:#222222;stroke-width:0.5226025607525477;"/><ellipse cx="960.2822" cy="183.6948" fill="#222222" rx="3.1356" ry="3.1356" style="stroke:none;stroke-width:0.5226025607525477;"/><g id="elem_GMN18"><path d="M217.9253,118.6308 L217.9253,123.3342 L196.2477,125.4246 L217.9253,127.515 L217.9253,132.4022 A0,0 0 0 0 217.9253,132.4022 L388.2937,132.4022 A0,0 0 0 0 388.2937,132.4022 L388.2937,123.8568 L383.0677,118.6308 L217.9253,118.6308 A0,0 0 0 0 217.9253,118.6308 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.26130128037627387;"/><path d="M383.0677,118.6308 L383.0677,123.8568 L388.2937,123.8568 L383.0677,118.6308 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.26130128037627387;"/><text fill="#000000" font-family="sans-serif" font-size="6.7938" lengthAdjust="spacing" textLength="159.3938" x="221.0609" y="128.2964">The state kept here unless a bus off interrupt occurs.</text></g><ellipse cx="63.7575" cy="331.8526" fill="#222222" rx="5.226" ry="5.226" style="stroke:none;stroke-width:0.5226025607525477;"/><!--link CANSM_S_SILENTCOM to *end*--><g id="link_CANSM_S_SILENTCOM_*end*"><path d="M734.9046,183.4335 C801.0713,183.4335 920.115,183.4335 951.9885,183.4335 " fill="none" id="CANSM_S_SILENTCOM-to-*end*" style="stroke:#181818;stroke-width:0.5226025607525477;"/><polygon fill="#181818" points="954.6329,183.4335,949.9294,181.3431,952.0199,183.4335,949.9294,185.5239,954.6329,183.4335" style="stroke:#181818;stroke-width:0.5226025607525477;"/><text fill="#000000" font-family="sans-serif" font-size="6.7938" lengthAdjust="spacing" textLength="197.5438" x="746.0152" y="180.034">CanSM_RequestedComMode == COMM_NO_COMMUNICATION</text></g><!--reverse link CANSM_SU_CC_STOPPED to CANSM_S_STARTWAKEUPSOURCES_SUCCESSFUL--><g id="link_CANSM_SU_CC_STOPPED_CANSM_S_STARTWAKEUPSOURCES_SUCCESSFUL"><path d="M388.1526,495.1555 C424.024,505.8375 455.7094,517.6953 455.7094,526.2608 C455.7094,526.2608 455.7094,526.2608 455.7094,600.4703 C455.7094,612.4327 462.9057,623.9561 469.8145,632.2655 " fill="none" id="CANSM_SU_CC_STOPPED-backto-CANSM_S_STARTWAKEUPSOURCES_SUCCESSFUL" style="stroke:#181818;stroke-width:0.5226025607525477;"/><polygon fill="#181818" points="385.5605,494.3925,389.4695,497.7409,388.0643,495.1399,390.6653,493.7347,385.5605,494.3925" style="stroke:#181818;stroke-width:0.5226025607525477;"/></g><!--link CANSM_S_NOCOM to CANSM_SU_CC_STOPPED--><g id="link_CANSM_S_NOCOM_CANSM_SU_CC_STOPPED"><path d="M287.4314,410.3162 C287.4314,418.683 287.4314,429.9974 287.4314,440.4129 " fill="none" id="CANSM_S_NOCOM-to-CANSM_SU_CC_STOPPED" style="stroke:#181818;stroke-width:0.5226025607525477;"/><polygon fill="#181818" points="287.4314,443.0363,289.5218,438.3329,287.4314,440.4233,285.341,438.3329,287.4314,443.0363" style="stroke:#181818;stroke-width:0.5226025607525477;"/></g><!--link CANSM_BO_BUS_OFF_CHECK to CANSM_S_NO_BUS_OFF--><g id="link_CANSM_BO_BUS_OFF_CHECK_CANSM_S_NO_BUS_OFF"><path d="M333.5877,31.006 C292.7045,37.8939 244.3951,49.966 204.8602,71.0739 C186.705,80.7682 170.1176,97.7946 159.5871,110.1071 " fill="none" id="CANSM_BO_BUS_OFF_CHECK-to-CANSM_S_NO_BUS_OFF" style="stroke:#181818;stroke-width:0.5226025607525477;"/><polygon fill="#181818" points="157.8207,112.1975,162.4551,109.9581,159.5089,110.2031,159.2639,107.257,157.8207,112.1975" style="stroke:#181818;stroke-width:0.5226025607525477;"/><text fill="#000000" font-family="sans-serif" font-size="6.7938" lengthAdjust="spacing" textLength="198.589" x="205.3828" y="78.6491">if(CanSM_TxNotificationStatus == CANIF_TX_RX_NOTIFICATION)</text></g><!--link *start* to CANSM_SD_CC_STOPPED--><g id="link_*start*_CANSM_SD_CC_STOPPED"><path d="M63.7575,337.2041 C63.7575,346.4019 63.7575,366.7886 63.7575,381.1079 " fill="none" id="*start*-to-CANSM_SD_CC_STOPPED" style="stroke:#181818;stroke-width:0.5226025607525477;"/><polygon fill="#181818" points="63.7575,383.8882,65.8479,379.1847,63.7575,381.2752,61.6671,379.1847,63.7575,383.8882" style="stroke:#181818;stroke-width:0.5226025607525477;"/></g><!--link CANSM_SD_CC_STOPPED to CANSM_SD_CC_SLEEP--><g id="link_CANSM_SD_CC_STOPPED_CANSM_SD_CC_SLEEP"><path d="M115.4272,397.1779 C121.6044,397.1779 127.7868,397.1779 133.9639,397.1779 " fill="none" id="CANSM_SD_CC_STOPPED-to-CANSM_SD_CC_SLEEP" style="stroke:#181818;stroke-width:0.5226025607525477;"/><polygon fill="#181818" points="136.6135,397.1779,131.9101,395.0875,134.0005,397.1779,131.9101,399.2684,136.6135,397.1779" style="stroke:#181818;stroke-width:0.5226025607525477;"/></g><!--link CANSM_BO_TX_OFFLINE to CanSM_FullComReached--><g id="link_CANSM_BO_TX_OFFLINE_CanSM_FullComReached"><path d="M951.8892,454.8106 C958.0246,440.8727 966.2921,418.2702 966.2921,397.7005 C966.2921,285.8636 966.2921,285.8636 966.2921,285.8636 C966.2921,257.988 743.7366,246.4803 697.9932,244.4055 " fill="none" id="CANSM_BO_TX_OFFLINE-to-CanSM_FullComReached" style="stroke:#181818;stroke-width:0.5226025607525477;"/><polygon fill="#181818" points="695.3593,244.2906,699.9623,246.5936,697.9696,244.4099,700.1533,242.4171,695.3593,244.2906" style="stroke:#181818;stroke-width:0.5226025607525477;"/></g><!--reverse link CANSM_BO_BUS_OFF_CHECK to CanSM_FullComReached--><g id="link_CANSM_BO_BUS_OFF_CHECK_CanSM_FullComReached"><path d="M497.4236,40.6428 C510.7917,48.4714 520.5122,59.561 520.5122,75.2548 C520.5122,75.2548 520.5122,75.2548 520.5122,183.9561 C520.5122,219.6028 656.0021,238.7301 684.5832,242.3674 " fill="none" id="CANSM_BO_BUS_OFF_CHECK-backto-CanSM_FullComReached" style="stroke:#181818;stroke-width:0.5226025607525477;"/><polygon fill="#181818" points="495.0666,39.3154,498.147,43.4389,497.3459,40.5933,500.1915,39.7922,495.0666,39.3154" style="stroke:#181818;stroke-width:0.5226025607525477;"/><text fill="#000000" font-family="sans-serif" font-size="6.7938" lengthAdjust="spacing" textLength="215.3123" x="521.0348" y="124.1156">CanSM_RequestedComMode == COMM_FULL_COMMUNICATION &amp;&amp;</text><text fill="#000000" font-family="sans-serif" font-size="6.7938" lengthAdjust="spacing" textLength="94.0685" x="583.7471" y="132.6609">CanSM_BusOffFlag == FALSE</text></g><!--link CanSM_FullComReached to CANSM_SU_CC_STARTED--><g id="link_CanSM_FullComReached_CANSM_SU_CC_STARTED"><path d="M683.8516,243.9091 C649.0776,243.2245 474.5231,241.9754 474.5231,285.8636 C474.5231,285.8636 474.5231,285.8636 474.5231,397.7005 C474.5231,416.3627 474.5231,437.7946 474.5231,452.0982 " fill="none" id="CanSM_FullComReached-to-CANSM_SU_CC_STARTED" style="stroke:#181818;stroke-width:0.5226025607525477;"/><polygon fill="#181818" points="474.5231,454.8576,476.6135,450.1542,474.5231,452.2446,472.4327,450.1542,474.5231,454.8576" style="stroke:#181818;stroke-width:0.5226025607525477;"/><text fill="#000000" font-family="sans-serif" font-size="6.7938" lengthAdjust="spacing" textLength="215.3123" x="475.0457" y="330.5436">CanSM_RequestedComMode == COMM_FULL_COMMUNICATION &amp;&amp;</text><text fill="#000000" font-family="sans-serif" font-size="6.7938" lengthAdjust="spacing" textLength="89.8876" x="539.8484" y="339.0889">CanSM_BusOffFlag == TRUE</text></g><!--reverse link CANSM_S_SILENTCOM to CanSM_FullComReached--><g id="link_CANSM_S_SILENTCOM_CanSM_FullComReached"><path d="M689.8354,199.3572 C689.8354,211.7377 689.8354,228.4609 689.8354,237.1779 " fill="none" id="CANSM_S_SILENTCOM-backto-CanSM_FullComReached" style="stroke:#181818;stroke-width:0.5226025607525477;"/><polygon fill="#181818" points="689.8354,196.624,687.745,201.3274,689.8354,199.237,691.9258,201.3274,689.8354,196.624" style="stroke:#181818;stroke-width:0.5226025607525477;"/><text fill="#000000" font-family="sans-serif" font-size="6.7938" lengthAdjust="spacing" textLength="201.202" x="690.358" y="219.7518">CanSM_RequestedComMode != COMM_FULL_COMMUNICATION</text></g><!--link CANSM_S_NO_BUS_OFF to CANSM_SU_CC_STARTED--><g id="link_CANSM_S_NO_BUS_OFF_CANSM_SU_CC_STARTED"><path d="M196.2477,136.3784 C259.446,150.358 362.1636,174.382 362.1636,182.9109 C362.1636,182.9109 362.1636,182.9109 362.1636,397.7005 C362.1636,416.1641 406.2294,439.1743 439.1691,453.7915 " fill="none" id="CANSM_S_NO_BUS_OFF-to-CANSM_SU_CC_STARTED" style="stroke:#181818;stroke-width:0.5226025607525477;"/><polygon fill="#181818" points="441.7246,454.9151,438.2689,451.1006,439.3349,453.858,436.5776,454.924,441.7246,454.9151" style="stroke:#181818;stroke-width:0.5226025607525477;"/><text fill="#000000" font-family="sans-serif" font-size="6.7938" lengthAdjust="spacing" textLength="9.9294" x="362.6862" y="289.258">BO</text></g><!--link CANSM_BO_BUS_OFF_CHECK to CANSM_SU_CC_STARTED--><g id="link_CANSM_BO_BUS_OFF_CHECK_CANSM_SU_CC_STARTED"><path d="M420.6951,39.2318 C420.6951,49.6681 420.6951,63.2245 420.6951,75.2548 C420.6951,75.2548 420.6951,75.2548 420.6951,397.7005 C420.6951,420.4076 438.5367,440.3501 453.6765,453.1905 " fill="none" id="CANSM_BO_BUS_OFF_CHECK-to-CANSM_SU_CC_STARTED" style="stroke:#181818;stroke-width:0.5226025607525477;"/><polygon fill="#181818" points="455.699,454.8785,453.4223,450.2624,453.691,453.2064,450.7469,453.4751,455.699,454.8785" style="stroke:#181818;stroke-width:0.5226025607525477;"/><text fill="#000000" font-family="sans-serif" font-size="6.7938" lengthAdjust="spacing" textLength="9.9294" x="421.2177" y="246.4046">BO</text></g><!--link CANSM_SU_CC_STARTED to CanSM_CtrlStartedIndicated--><g id="link_CANSM_SU_CC_STARTED_CanSM_CtrlStartedIndicated"><path d="M525.5918,468.7745 C552.4118,468.7745 579.2265,468.7745 606.0465,468.7745 " fill="none" id="CANSM_SU_CC_STARTED-to-CanSM_CtrlStartedIndicated" style="stroke:#181818;stroke-width:0.5226025607525477;"/><polygon fill="#181818" points="608.8111,468.7745,604.1077,466.6841,606.1981,468.7745,604.1077,470.8649,608.8111,468.7745" style="stroke:#181818;stroke-width:0.5226025607525477;"/></g><!--link CanSM_CtrlStartedIndicated to CANSM_S_STARTWAKEUPSOURCES_SUCCESSFUL--><g id="link_CanSM_CtrlStartedIndicated_CANSM_S_STARTWAKEUPSOURCES_SUCCESSFUL"><path d="M612.647,472.9814 C607.0186,481.7873 593.6765,504.9177 593.6765,526.2608 C593.6765,526.2608 593.6765,526.2608 593.6765,600.4703 C593.6765,613.1957 568.2676,623.8986 541.7298,631.6122 " fill="none" id="CanSM_CtrlStartedIndicated-to-CANSM_S_STARTWAKEUPSOURCES_SUCCESSFUL" style="stroke:#181818;stroke-width:0.5226025607525477;"/><polygon fill="#181818" points="539.1586,632.3491,544.2553,633.0669,541.6711,631.6312,543.1068,629.047,539.1586,632.3491" style="stroke:#181818;stroke-width:0.5226025607525477;"/><text fill="#000000" font-family="sans-serif" font-size="6.7938" lengthAdjust="spacing" textLength="197.5438" x="594.1991" y="566.2373">CanSM_RequestedComMode == COMM_NO_COMMUNICATION</text></g><!--reverse link CanSM_FullComReached to CanSM_CtrlStartedIndicated--><g id="link_CanSM_FullComReached_CanSM_CtrlStartedIndicated"><path d="M696.7703,246.6005 C709.6159,251.816 735.8244,265.0118 735.8244,285.8636 C735.8244,285.8636 735.8244,285.8636 735.8244,397.7005 C735.8244,451.9571 643.8098,465.2522 620.4442,467.7502 " fill="none" id="CanSM_FullComReached-backto-CanSM_CtrlStartedIndicated" style="stroke:#181818;stroke-width:0.5226025607525477;"/><polygon fill="#181818" points="694.2461,245.6075,697.8602,249.2723,696.6784,246.5625,699.3882,245.3807,694.2461,245.6075" style="stroke:#181818;stroke-width:0.5226025607525477;"/><text fill="#000000" font-family="sans-serif" font-size="6.7938" lengthAdjust="spacing" textLength="159.9164" x="753.8542" y="330.5436">CanSM_BusOffCounter == CANSM_BOR_NONE &amp;&amp;</text><text fill="#000000" font-family="sans-serif" font-size="6.7938" lengthAdjust="spacing" textLength="194.9308" x="738.4374" y="339.0889">CanSM_RequestedComMode != COMM_NO_COMMUNICATION</text></g><!--link CanSM_CtrlStartedIndicated to CANSM_BO_TX_OFFLINE--><g id="link_CanSM_CtrlStartedIndicated_CANSM_BO_TX_OFFLINE"><path d="M621.4058,468.7745 C654.2932,468.7745 807.8599,468.7745 891.2151,468.7745 " fill="none" id="CanSM_CtrlStartedIndicated-to-CANSM_BO_TX_OFFLINE" style="stroke:#181818;stroke-width:0.5226025607525477;"/><polygon fill="#181818" points="893.9065,468.7745,889.203,466.6841,891.2934,468.7745,889.203,470.8649,893.9065,468.7745" style="stroke:#181818;stroke-width:0.5226025607525477;"/><text fill="#000000" font-family="sans-serif" font-size="6.7938" lengthAdjust="spacing" textLength="206.428" x="653.3839" y="457.0134">CanSM_RequestedComMode != COMM_NO_COMMUNICATION &amp;&amp;</text><text fill="#000000" font-family="sans-serif" font-size="6.7938" lengthAdjust="spacing" textLength="145.8061" x="685.7852" y="465.5588">CanSM_BusOffCounter != CANSM_BOR_NONE</text></g><!--link CANSM_SU_CC_STOPPED to CANSM_SU_CC_STARTED--><g id="link_CANSM_SU_CC_STOPPED_CANSM_SU_CC_STARTED"><path d="M401.9911,468.7745 C408.2676,468.7745 414.5493,468.7745 420.8309,468.7745 " fill="none" id="CANSM_SU_CC_STOPPED-to-CANSM_SU_CC_STARTED" style="stroke:#181818;stroke-width:0.5226025607525477;"/><polygon fill="#181818" points="423.5223,468.7745,418.8189,466.6841,420.9093,468.7745,418.8189,470.8649,423.5223,468.7745" style="stroke:#181818;stroke-width:0.5226025607525477;"/></g><!--link CANSM_SD_CC_SLEEP to CANSM_S_NOCOM--><g id="link_CANSM_SD_CC_SLEEP_CANSM_S_NOCOM"><path d="M228.1369,397.1779 C234.3559,397.1779 240.5696,397.1779 246.7834,397.1779 " fill="none" id="CANSM_SD_CC_SLEEP-to-CANSM_S_NOCOM" style="stroke:#181818;stroke-width:0.5226025607525477;"/><polygon fill="#181818" points="249.4487,397.1779,244.7452,395.0875,246.8356,397.1779,244.7452,399.2684,249.4487,397.1779" style="stroke:#181818;stroke-width:0.5226025607525477;"/></g><!--SRC=[hLLTRvj047o_Nx79GvHKed9UdGR9la2BWi7YGutKLeZ04L39uSBHfAhwtxjd4nlimr6gyc2ZkztRdRdPeKdYai7bP3A1fo8LEU6LO70wTwSmRvigow3WWjLrkn9G9KbRi_GKuWQSIzA864CjNWZuJG2VpGATEVuYycyYIYC_S9TBusPirpQCvU5UvBZKNP0_XEmlH_FGZrpJ76pCjyiH_MJGsoaWf19epAqi-iX4y4mhdXNrOooAYlioy_pY2ixEu2kNKNX4o8kVh6xYCYWUMGtNtSduImqx2go5uPrFseihibyuk9DrRSinTbLnnspBabQF7ekJdALOROWax54p1Py9kF_LPIxYWcSjJsIhsDzJpbvwzDYFbZM2fNZmeaePN6ERxWABXROToRVGiUWii5m7iMsXqRQk6HThsA1lkVGjst02p98az3gdeYvzKQrMBBLuMYIOXVqhsvzvWMo_dnVNOf2tnJqQ0ny-97bL94pN1x531ljH-whO8jbVbmr-djqQuT9tGuyQk1HI_FEHC48EYT1q-FBks_Grkb650xB9PcBguY772SbKQfKA3tBMgVmxmr7AMSsWvILh6eZXlcr0CMhDUy9u2lByNiF7S85MianekaffP31Ue8r44VLKWPPMJxoNr0CuXI8xtz0MF3kLA39vkTsm8RJhzK1PfXmNxmuJ0ylisBl0-qJMkzDrfNaerc0_TEqalTvtWxaELMYAA8McjIjDsw4yz9P_6SQTqQ2bkbbcbl63p31djc-Cz87Fa1BLrFsVDW8lDCRPK7Z6QFcJqVA4478e73YASUwEQl7LbC7wJW8g2oBaY3rrgk_h_kW0ljq-ZXNVqA-ucUdW8cdLIkFevcnDc8U5KFlzIn-zhJUrfAi_VcyieL3Z2uYJVH24A6mAjBNXgdL0o84tmC2uvDU2_0K0]--></g></svg></p>
      </div>
      
      
    
    
    
    
    
    
    
    
  
    </body></html>